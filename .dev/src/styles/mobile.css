@import "tailwindcss";

/* LuCI Mobile Styles - 移动端样式 */

/* 隐藏桌面元素 */
@media screen and (max-width: 768px) {
  header h3 a,
  header .brand {
    @apply hidden;
  }
}

/* 移动端适配 */
@media screen and (max-width: 640px) {
  /* 模态框调整 */
  .modal {
    @apply mx-4 my-6;
  }

  /* 选项卡移动端样式 */
  .tabs,
  .cbi-tabmenu {
    @apply flex-col space-y-1 border-b-0;
  }

  .tabs > li,
  .cbi-tabmenu > li {
    @apply mb-0 mr-0 w-full;
  }

  .tabs > li > a,
  .cbi-tabmenu > li > a {
    @apply w-full py-3 px-4 text-left border-l-4 border-l-transparent;
    @apply hover:border-l-gray-300;
  }

  .tabs > li.active > a,
  .cbi-tabmenu > li.active > a {
    @apply border-l-blue-600;
    @apply dark:border-l-blue-400;
  }

  /* 表格响应式 */
  .table {
    @apply flex flex-col w-full;
  }

  .tr {
    @apply flex flex-wrap border-t border-gray-200 py-2 mx-0;
    @apply dark:border-gray-700;
  }

  .table .th,
  .table .td {
    @apply flex-1 min-w-[50%] px-3 py-2 border-t-0 border-b-0;
    @apply overflow-hidden text-ellipsis whitespace-normal break-words;
  }

  .table .td.cbi-dropdown-open {
    @apply overflow-visible;
  }

  /* 列宽控制 */
  .col-1 { @apply flex-[1_1_30px]; }
  .col-2 { @apply flex-[2_2_60px]; }
  .col-3 { @apply flex-[3_3_90px]; }
  .col-4 { @apply flex-[4_4_120px]; }
  .col-5 { @apply flex-[5_5_150px]; }
  .col-6 { @apply flex-[6_6_180px]; }
  .col-7 { @apply flex-[7_7_210px]; }
  .col-8 { @apply flex-[8_8_240px]; }
  .col-9 { @apply flex-[9_9_270px]; }
  .col-10 { @apply flex-[10_10_300px]; }

  /* 表单字段响应式 */
  .td.cbi-value-field {
    @apply flex-none basis-full mb-1;
  }

  .td.cbi-value-field .cbi-button {
    @apply w-full;
  }

  /* 表格标题在移动端隐藏 */
  .tr.table-titles,
  .cbi-section-table-titles,
  .cbi-section-table-descr {
    @apply hidden;
  }

  /* CBI表格行 */
  .cbi-section-table-row {
    @apply flex flex-wrap mb-2;
  }

  /* 数据标题显示 */
  .tr[data-title]::before {
    @apply block flex-none basis-full bg-gray-100 text-base border-b border-gray-200 p-2;
    @apply dark:bg-gray-700 dark:border-gray-600;
  }

  .td[data-title]::before {
    @apply block font-bold overflow-hidden text-ellipsis whitespace-pre-line;
    content: attr(data-title);
  }

  .td[data-description]::after {
    @apply block;
  }

  /* 操作按钮区域 */
  .td.cbi-section-actions {
    @apply overflow-visible max-w-full p-2 basis-full;
  }

  /* 隐藏类 */
  .hide-sm,
  .hide-xs {
    @apply hidden;
  }

  /* 特定字段类型 */
  .td.cbi-value-field[data-widget="CBI.DummyValue"],
  .td.cbi-value-field[data-widget="CBI.Button"],
  .td.cbi-value-field[data-widget="CBI.FlagValue"],
  .td.cbi-value-field[data-widget="dvalue"],
  .td.cbi-value-field[data-widget="button"],
  .td.cbi-value-field[data-widget="fvalue"] {
    @apply basis-1/2 text-left;
  }

  /* 表格悬停效果禁用 */
  .cbi-section-table .tr:hover .td,
  .cbi-section-table .tr:hover .th,
  .cbi-section-table .tr:hover::before {
    @apply bg-transparent;
  }

  /* CBI值字段 */
  .cbi-value {
    @apply pb-2 border-b border-gray-200 mb-2 block;
    @apply dark:border-gray-700;
  }

  .cbi-value.hidden {
    @apply hidden;
  }

  .cbi-value .cbi-value:last-child {
    @apply border-b-0 pb-0 mb-0;
  }

  .cbi-value label.cbi-value-title {
    @apply font-bold;
  }

  /* 表单控件响应式 */
  .cbi-value-field,
  .cbi-select,
  .cbi-dynlist,
  .cbi-dropdown:not(.btn):not(.cbi-button) {
    @apply w-full m-0;
  }

  /* 输入框字体大小调整 */
  input,
  textarea,
  select,
  .cbi-dropdown > ul > li {
    @apply text-base;
    height: auto;
  }

  select,
  input[type="text"],
  input[type="password"],
  .cbi-dropdown > ul > li input[type="text"],
  .cbi-value-field .control-group {
    @apply w-full h-8;
  }

  /* 按钮响应式 */
  button,
  .btn,
  .cbi-button {
    @apply text-sm px-2 py-1;
  }

  /* 页面操作 */
  .actions,
  .cbi-page-actions {
    @apply border-t-0 -mt-2 p-2;
  }

  /* 头部响应式 */
  header > .fill {
    @apply p-1;
  }

  header > .fill > .container {
    @apply flex flex-row;
  }

  header .nav {
    @apply flex-[3_3_80%] my-1 mr-1 ml-0 flex flex-wrap justify-start;
  }

  header .nav a {
    @apply py-1 px-2;
  }

  header .pull-right {
    @apply flex-[0_1_20%] flex flex-col p-0 justify-around my-1 ml-auto mr-1;
  }

  /* 下拉菜单位置调整 */
  .menu-dropdown,
  .dropdown-menu {
    @apply top-6;
  }

  /* CBI选项和创建按钮 */
  .cbi-optionals,
  .cbi-section-create {
    @apply p-0 pb-4;
  }
}

/* 超小屏幕适配 */
@media screen and (max-width: 375px) {
  /* 页面操作按钮 */
  .cbi-page-actions {
    @apply flex justify-between m-0 p-0;
  }

  .cbi-page-actions button {
    @apply overflow-hidden text-ellipsis;
  }

  .cbi-page-actions .cbi-button {
    @apply flex-1 m-0 leading-8;
  }

  .cbi-page-actions .cbi-button-negative,
  .cbi-page-actions .cbi-button-primary,
  .cbi-page-actions .cbi-button-apply {
    @apply flex-[3];
  }

  /* 节操作按钮 */
  .cbi-section-actions .cbi-button {
    @apply overflow-hidden text-ellipsis m-0;
  }

  /* 网络状态表格特殊处理 */
  body[data-page="admin-network-wireless"] .td[data-name="_badge"] {
    @apply max-w-[50px] self-center;
  }

  body[data-page="admin-network-wireless"] .td[data-name="_badge"] .ifacebadge {
    @apply flex items-center flex-col;
  }

  body[data-page="admin-network-wireless"] .td[data-name="_stat"] {
    @apply basis-[60%];
  }

  /* 接口框响应式 */
  .td .ifacebox {
    @apply w-full m-0 flex-row;
  }

  .td .ifacebox .ifacebox-head {
    @apply min-w-[25%] justify-around rounded-l rounded-r-none;
  }

  .td .ifacebox .ifacebox-head,
  .td .ifacebox .ifacebox-body {
    @apply flex border-b-0 items-center;
  }

  .td .ifacebox .ifacebox-head > *,
  .ifacebox .ifacebox-body > * {
    @apply m-1;
  }
}
