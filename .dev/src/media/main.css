@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Custom Font Family */
  --font-sans:
    "Lato", "Inter", "SF Pro Text", "SF Pro Icons", "Helvetica Neue",
    "Helvetica", "Arial", ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  /* Aurora Color Palette - Light Mode */
  --color-aurora-green: #6ee7b7;
  --color-aurora-green-50: oklch(97.2% 0.019 158.743);
  --color-aurora-green-100: oklch(94.8% 0.045 159.652);
  --color-aurora-green-200: oklch(90.5% 0.089 160.125);
  --color-aurora-green-300: oklch(84.7% 0.148 160.742);
  --color-aurora-green-400: oklch(89.6% 0.143 162.4);
  --color-aurora-green-500: oklch(77.1% 0.198 161.205);
  --color-aurora-green-600: oklch(64.3% 0.175 161.428);
  --color-aurora-green-700: oklch(55.2% 0.142 162.113);
  --color-aurora-green-800: oklch(47.1% 0.112 162.895);
  --color-aurora-green-900: oklch(40.8% 0.089 163.742);
  --color-aurora-green-950: oklch(27.9% 0.061 165.128);

  --color-aurora-teal: #4fc3c7;
  --color-aurora-teal-50: oklch(97.8% 0.016 185.234);
  --color-aurora-teal-100: oklch(95.1% 0.041 186.152);
  --color-aurora-teal-200: oklch(90.8% 0.079 187.063);
  --color-aurora-teal-300: oklch(85.2% 0.128 187.894);
  --color-aurora-teal-400: oklch(77.9% 0.168 188.745);
  --color-aurora-teal-500: oklch(75.8% 0.145 188.2);
  --color-aurora-teal-600: oklch(62.1% 0.145 189.632);
  --color-aurora-teal-700: oklch(53.4% 0.118 190.485);
  --color-aurora-teal-800: oklch(45.8% 0.094 191.328);
  --color-aurora-teal-900: oklch(39.7% 0.074 192.156);
  --color-aurora-teal-950: oklch(28.2% 0.052 193.864);

  --color-aurora-sky: #499ecb;
  --color-aurora-sky-50: oklch(97.4% 0.015 242.187);
  --color-aurora-sky-100: oklch(94.6% 0.031 243.059);
  --color-aurora-sky-200: oklch(89.7% 0.061 244.128);
  --color-aurora-sky-300: oklch(82.5% 0.108 245.306);
  --color-aurora-sky-400: oklch(73.8% 0.159 246.584);
  --color-aurora-sky-500: oklch(68.5% 0.169 237.3);
  --color-aurora-sky-600: oklch(57.2% 0.182 248.947);
  --color-aurora-sky-700: oklch(49.1% 0.156 249.823);
  --color-aurora-sky-800: oklch(42.6% 0.127 250.694);
  --color-aurora-sky-900: oklch(37.8% 0.103 251.546);
  --color-aurora-sky-950: oklch(27.1% 0.072 253.189);

  /* Aurora Color Palette - Dark Mode */
  --color-aurora-night-slate: #0f172a;
  --color-aurora-night-slate-50: oklch(96.8% 0.008 245.123);
  --color-aurora-night-slate-100: oklch(93.2% 0.018 246.084);
  --color-aurora-night-slate-200: oklch(86.4% 0.035 247.159);
  --color-aurora-night-slate-300: oklch(76.8% 0.062 248.347);
  --color-aurora-night-slate-400: oklch(64.2% 0.098 249.638);
  --color-aurora-night-slate-500: oklch(52.1% 0.128 250.942);
  --color-aurora-night-slate-600: oklch(41.8% 0.145 252.258);
  --color-aurora-night-slate-700: oklch(33.6% 0.142 253.586);
  --color-aurora-night-slate-800: oklch(26.8% 0.128 254.926);
  --color-aurora-night-slate-900: oklch(11.8% 0.042 264.7);
  --color-aurora-night-slate-950: oklch(11.2% 0.089 257.847);

  --color-aurora-night-teal: #134e4a;
  --color-aurora-night-teal-50: oklch(96.9% 0.012 168.245);
  --color-aurora-night-teal-100: oklch(92.8% 0.028 169.137);
  --color-aurora-night-teal-200: oklch(85.6% 0.055 170.029);
  --color-aurora-night-teal-300: oklch(75.4% 0.089 170.921);
  --color-aurora-night-teal-400: oklch(62.8% 0.128 171.813);
  --color-aurora-night-teal-500: oklch(51.2% 0.156 172.705);
  --color-aurora-night-teal-600: oklch(41.5% 0.172 173.597);
  --color-aurora-night-teal-700: oklch(33.8% 0.168 174.489);
  --color-aurora-night-teal-800: oklch(27.6% 0.148 175.381);
  --color-aurora-night-teal-900: oklch(29.5% 0.074 175.4);
  --color-aurora-night-teal-950: oklch(18.9% 0.089 177.165);

  --color-aurora-night-emerald: #065f46;
  --color-aurora-night-emerald-50: oklch(97.1% 0.015 155.743);
  --color-aurora-night-emerald-100: oklch(94.2% 0.035 156.652);
  --color-aurora-night-emerald-200: oklch(88.9% 0.068 157.561);
  --color-aurora-night-emerald-300: oklch(81.3% 0.112 158.47);
  --color-aurora-night-emerald-400: oklch(71.8% 0.158 159.379);
  --color-aurora-night-emerald-500: oklch(61.2% 0.189 160.288);
  --color-aurora-night-emerald-600: oklch(51.8% 0.198 161.197);
  --color-aurora-night-emerald-700: oklch(43.6% 0.185 162.106);
  --color-aurora-night-emerald-800: oklch(36.8% 0.156 163.015);
  --color-aurora-night-emerald-900: oklch(34.2% 0.118 163.2);
  --color-aurora-night-emerald-950: oklch(22.1% 0.089 164.833);
}

@layer base {
  /* Font Face Declaration */
  @font-face {
    font-display: swap;
    font-family: "Lato";
    font-style: normal;
    font-weight: 400;
    src: url("./fonts/lato-v24-latin-regular.woff2") format("woff2");
  }

  /* Root Element */
  html {
    @apply h-full font-sans;
  }

  /* Global Margin/Padding Reset */
  * {
    @apply m-0 box-border p-0;
  }

  /* Body Styles */
  body {
    @apply dark:from-aurora-night-slate dark:via-aurora-night-teal dark:to-aurora-night-emerald relative min-h-screen overflow-x-hidden bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200 bg-fixed text-sm leading-relaxed font-normal text-slate-900 transition-all duration-300 before:pointer-events-none before:fixed before:inset-0 before:-z-10 before:content-[''] dark:bg-gradient-to-br dark:text-slate-100;
  }

  /* Typography Base */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans leading-tight font-semibold tracking-tight text-slate-900 dark:text-slate-100;
  }

  h1 {
    @apply mb-4 text-3xl;
  }

  h2 {
    @apply mb-4 text-2xl;
  }

  h3 {
    @apply mb-4 text-xl;
  }

  h4 {
    @apply mb-2 text-lg;
  }

  h5 {
    @apply mb-2 text-base;
  }

  h6 {
    @apply mb-2 text-sm;
  }

  hr {
    @apply border-0;
  }

  p {
    @apply mb-4 text-sm leading-relaxed text-slate-600 dark:text-slate-300;
  }

  small {
    @apply text-xs font-normal text-slate-500 dark:text-slate-400;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply dark:bg-aurora-night-slate bg-slate-400/5;
  }

  ::-webkit-scrollbar-thumb {
    @apply dark:bg-aurora-teal dark:hover:bg-aurora-night-emerald rounded bg-slate-400/30 hover:bg-slate-400/50;
  }
}

@layer components {
  @layer layout {
    @layer header {
      header {
        @apply dark:hover:from-aurora-night-slate-800 dark:hover:via-aurora-night-teal-800 dark:hover:to-aurora-night-emerald-800 fixed top-0 right-0 left-0 z-50 flex items-center justify-between border-b border-white/10 bg-white/5 px-6 py-3 transition-all duration-300 hover:border-b hover:border-white/20 hover:bg-white/15 hover:shadow-lg hover:backdrop-blur-xl hover:backdrop-saturate-150 dark:border-slate-700/30 dark:bg-slate-900/80 dark:hover:border-slate-600/40 dark:hover:bg-gradient-to-r dark:hover:shadow-black/50;
      }

      .brand {
        @apply hover:text-aurora-sky inline-block flex-shrink-0 text-xl font-semibold tracking-tight text-slate-900 no-underline transition-all duration-200 hover:-translate-y-0.5 dark:text-slate-100;
      }

      .nav {
        @apply absolute left-1/2 m-0 flex -translate-x-1/2 transform list-none items-center gap-1 p-0;
      }

      .nav > li {
        @apply relative;
      }

      .menu {
        @apply block rounded px-3 py-2 text-xs font-normal text-slate-600 no-underline transition-colors duration-200 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-slate-100;
      }
    }

    @layer Content {
      /* Legacy Layout Mapping */
      #maincontent.container {
        @apply mx-auto min-h-screen w-4/5 !max-w-7xl px-6 pt-16;
      }

      #view {
        @apply mb-8 w-full rounded-3xl border-2 border-slate-400/20 bg-gradient-to-br from-white/95 via-white/90 to-white/85 p-8 shadow-2xl backdrop-blur-2xl backdrop-saturate-150 transition-all duration-300 empty:hidden hover:border-slate-400/30 hover:shadow-2xl hover:shadow-slate-400/30 dark:border-slate-600/25 dark:from-slate-800/95 dark:via-slate-800/90 dark:to-slate-800/85 dark:shadow-black/40 dark:backdrop-blur-2xl dark:backdrop-saturate-150 dark:hover:border-slate-600/35 dark:hover:shadow-black/50;
      }

      /* Legacy System Log */
      #syslog {
        @apply bg-aurora-night-slate focus:border-aurora-teal focus:ring-aurora-teal/20 max-h-screen min-h-96 w-full resize-y rounded-xl border border-slate-400/25 p-6 font-sans text-xs leading-snug text-slate-200 transition-all duration-200 focus:shadow-lg focus:ring-2 focus:outline-none dark:border-slate-400/30 dark:shadow-black/40;
      }
    }

    @layer footer {
      footer {
        @apply mt-auto flex flex-wrap items-center justify-center border-t border-slate-200 py-2 text-xs text-slate-500 dark:border-slate-700 dark:text-slate-400;
      }

      footer span {
        @apply inline-block text-center;
      }

      footer a {
        @apply text-aurora-sky hover:text-aurora-sky-600 no-underline;
      }

      footer .breadcrumb {
        @apply m-0 mb-4 flex rounded border border-slate-200 bg-slate-50 px-3 py-2 dark:border-slate-700 dark:bg-slate-800;
      }

      footer .breadcrumb li {
        @apply list-none;
      }

      footer .breadcrumb li:not(:last-child)::after {
        @apply px-2 text-slate-400 content-['|'];
      }

      footer .breadcrumb li.active a {
        @apply text-slate-600 dark:text-slate-300;
      }

      footer .breadcrumb a {
        @apply text-aurora-sky hover:text-aurora-sky-600;
      }

      footer ul.breadcrumb {
        @apply ml-auto;
      }
    }

    @layer page-specific {
      .syslog-container {
        @apply bg-aurora-night-slate focus:border-aurora-teal focus:ring-aurora-teal/20 max-h-screen min-h-96 w-full resize-y rounded-xl border border-slate-400/25 p-6 font-sans text-xs leading-snug text-slate-200 transition-all duration-200 focus:shadow-lg focus:ring-2 focus:outline-none dark:border-slate-400/30 dark:shadow-black/40;
      }
    }
  }

  @layer button {
    /* 基础按钮样式 */
    @layer base {
      /* 基线按钮 */
      button,
      .btn,
      .cbi-button {
        @apply bg-aurora-sky dark:bg-aurora-sky-500 hover:from-aurora-sky hover:to-aurora-teal dark:hover:from-aurora-sky-500 dark:hover:to-aurora-teal-500 focus:ring-aurora-sky/30 inline-flex cursor-pointer items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white shadow-sm transition-all duration-200 hover:bg-gradient-to-r hover:shadow-md focus:ring-2 focus:ring-offset-2 focus:outline-none dark:focus:ring-offset-slate-900;
        /* @apply transform hover:scale-[1.02] active:scale-[0.98]; */
      }

      /* 按钮间距调整 */
      .btn + .btn,
      .cbi-button + .cbi-button {
        @apply ml-2;
      }

      /* 主要按钮 */
      .btn-primary {
        @apply bg-aurora-sky dark:bg-aurora-sky-500 hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400 focus:ring-aurora-sky/30 shadow-aurora-sky/20 hover:shadow-aurora-sky/30 px-4 py-2 text-sm;
      }

      /* 次要按钮 */
      .btn-secondary {
        @apply border border-slate-300 bg-white text-slate-700 shadow-slate-400/10 hover:bg-slate-50 hover:shadow-slate-400/20 focus:ring-slate-400/30 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600;
      }

      /* 积极按钮 */
      .btn-positive {
        @apply bg-aurora-sky dark:bg-aurora-sky-500 hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400 focus:ring-aurora-sky/30 shadow-aurora-sky/20 hover:shadow-aurora-sky/30 w-full px-6 py-3 text-sm font-semibold;
      }

      /* 操作按钮 - 启动/重启/重新加载 */
      .cbi-button-action {
        @apply bg-aurora-sky dark:bg-aurora-sky-500 hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400 focus:ring-aurora-sky/30 shadow-aurora-sky/20 hover:shadow-aurora-sky/30 font-medium text-white;
      }

      /* 状态按钮 - 已启用 */
      .cbi-button-positive {
        @apply cursor-default bg-emerald-600 font-medium text-white shadow-emerald-600/20 hover:bg-emerald-700 hover:shadow-emerald-700/30 focus:ring-emerald-600/30 dark:bg-emerald-500 dark:hover:bg-emerald-600;
      }

      /* 状态按钮 - 已禁用 */
      .cbi-button-negative {
        @apply cursor-default bg-slate-300 font-medium text-slate-700 shadow-slate-300/20 hover:bg-slate-400 hover:shadow-slate-400/30 focus:ring-slate-300/30 dark:bg-slate-600 dark:text-slate-300 dark:hover:bg-slate-700;
      }

      /* 按钮组容器样式 */
      .cbi-section-actions div {
        @apply flex flex-row flex-nowrap items-center gap-2;
      }

      /* 表格中的按钮组 */
      .td.cbi-section-actions {
        @apply overflow-x-auto p-3 whitespace-nowrap;
      }

      .td.cbi-section-actions div {
        @apply justify-start;
      }

      .td.cbi-section-actions .btn,
      .td.cbi-section-actions .cbi-button {
        @apply inline-flex w-auto flex-none whitespace-nowrap;
      }
    }

    /* 页面操作按钮样式 */
    @layer page-actions {
      /* 页面操作容器 */
      .cbi-page-actions {
        @apply mt-8 flex flex-wrap items-center justify-end gap-3 border-t border-slate-200/50 pt-6 dark:border-slate-700/30;
      }

      /* 页面操作按钮 */
      .cbi-page-actions .btn,
      .cbi-page-actions .cbi-button {
        @apply focus:ring-aurora-sky/30 rounded-xl text-sm font-medium transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:outline-none dark:focus:ring-offset-slate-900;
      }

      /* 保存按钮 */
      .cbi-page-actions .cbi-button-save {
        @apply bg-aurora-sky dark:bg-aurora-sky-500 hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400 text-white shadow-sm hover:shadow-md;
      }

      /* 复位按钮 */
      .cbi-page-actions .cbi-button-reset {
        @apply border border-slate-300/50 bg-slate-100 text-slate-700 hover:bg-slate-200 dark:border-slate-600/50 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600;
      }
    }

    /* 控制组按钮样式 */
    @layer control-group {
      /* 控制组容器 */
      .control-group {
        @apply mt-2 flex flex-wrap items-center gap-3;
      }

      /* 控制组中的按钮 */
      .control-group .btn,
      .control-group .cbi-button {
        @apply focus:ring-aurora-sky/20 rounded-lg border border-slate-300/50 bg-slate-100 px-4 py-2 text-sm font-medium text-slate-700 transition-all duration-200 hover:bg-slate-200 focus:ring-2 focus:ring-offset-2 focus:outline-none dark:border-slate-600/50 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 dark:focus:ring-offset-slate-900;
      }

      /* 控制组中的应用按钮 */
      .control-group .cbi-button-apply {
        @apply bg-aurora-sky/10 dark:bg-aurora-sky/20 text-aurora-sky dark:text-aurora-sky-300 border-aurora-sky/30 dark:border-aurora-sky/40 hover:bg-aurora-sky/20 dark:hover:bg-aurora-sky/30 hover:border-aurora-sky/40 dark:hover:border-aurora-sky/50;
      }
    }

    /* 动态列表按钮样式 */
    @layer dynamic-list {
      /* 添加按钮 */
      .cbi-dynlist .btn.cbi-button-add {
        @apply bg-aurora-sky dark:bg-aurora-sky-500 hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400 focus:ring-aurora-sky/30 min-w-[40px] rounded-lg px-4 py-2 text-lg font-medium text-white transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:outline-none dark:focus:ring-offset-slate-900;
      }
    }

    /* 模态框按钮样式 */
    @layer modal {
      /* 模态框按钮行 */
      .modal .button-row {
        @apply mt-6 flex justify-end gap-3 border-t border-slate-200/50 pt-4 sm:flex-row sm:gap-3 dark:border-slate-700/30;
      }

      .modal .btn {
        @apply focus:ring-aurora-sky/30 rounded-lg border border-slate-300/50 bg-slate-100 px-6 py-2.5 text-sm font-medium text-slate-700 transition-all duration-200 hover:bg-slate-200 focus:ring-2 focus:ring-offset-2 focus:outline-none sm:w-auto dark:border-slate-600/50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 dark:focus:ring-offset-slate-900;
      }

      /* 登录模态框按钮 */
      .modal.login .btn.cbi-button-positive.important {
        @apply from-aurora-sky to-aurora-teal dark:from-aurora-sky-500 dark:to-aurora-teal-500 focus:ring-aurora-sky/30 w-full rounded-xl bg-gradient-to-r px-6 py-3 text-base font-semibold text-white shadow-lg transition-all duration-200 hover:scale-[1.02] hover:shadow-xl focus:ring-2 focus:ring-offset-2 focus:outline-none active:scale-[0.98] dark:focus:ring-offset-slate-900;
      }
    }
  }

  @layer input {
    input[type="text"],
    input[type="password"] {
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 rounded-xl border border-slate-300/50 bg-white/90 px-4 py-3 text-sm font-normal text-slate-900 placeholder-slate-400 transition-all duration-200 focus:bg-white focus:ring-2 focus:outline-none dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:bg-slate-800;
    }
  }

  @layer select {
    select {
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 rounded-xl border border-slate-300/50 bg-white/90 px-4 py-3 text-sm font-normal text-slate-900 placeholder-slate-400 transition-all duration-200 focus:bg-white focus:ring-2 focus:outline-none dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:bg-slate-800;
    }
  }

  @layer textarea {
    textarea {
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 min-h-32 w-full resize-y rounded-xl border border-slate-300/50 bg-white/90 px-4 py-3 text-sm font-normal text-slate-900 placeholder-slate-400 transition-all duration-200 focus:bg-white focus:ring-2 focus:outline-none dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:bg-slate-800;
    }

    #syslog {
      @apply bg-slate-900 text-slate-100 dark:bg-slate-100 dark:text-slate-900;
    }
  }

  @layer checkbox {
    /* 复选框容器 */
    .cbi-checkbox {
      @apply relative inline-flex items-center;
    }

    /* 复选框输入框 */
    .cbi-checkbox input[type="checkbox"] {
      @apply text-aurora-sky focus:ring-aurora-sky/20 relative h-5 w-5 cursor-pointer appearance-none rounded-lg border-2 border-slate-300/50 bg-white transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:outline-none dark:border-slate-600/50 dark:bg-slate-800 dark:focus:ring-offset-slate-900;
    }

    /* 复选框选中状态 */
    .cbi-checkbox input[type="checkbox"]:checked {
      @apply bg-aurora-sky border-aurora-sky dark:bg-aurora-sky-500 dark:border-aurora-sky-500;
    }

    /* 复选框选中状态的勾选标记（使用边框绘制以避免字符乱码/对齐问题） */
    .cbi-checkbox input[type="checkbox"]:checked::after {
      @apply pointer-events-none absolute top-1/2 left-1/2 block h-[0.85rem] w-[0.5rem] -translate-x-1/2 -translate-y-1/2 -rotate-315 border-r-2 border-b-2 border-white content-[''];
    }

    /* 复选框悬停效果 */
    .cbi-checkbox input[type="checkbox"]:hover {
      @apply border-slate-400/60 dark:border-slate-500/60;
    }

    /* 复选框标签 */
    .cbi-checkbox label {
      @apply ml-3 cursor-pointer text-sm font-medium text-slate-700 dark:text-slate-300;
    }
  }

  @layer dropdown {
    /* 基础下拉菜单样式 - 最小化通用样式 */
    @layer base {
      /* 通用下拉菜单容器 - 只定义基础定位 */
      .dropdown,
      .cbi-dropdown {
        @apply relative;
      }

      /* 通用下拉菜单项目 - 只定义基础样式 */
      .dropdown-menu li,
      .cbi-dropdown ul li {
        @apply m-0 list-none;
      }

      /* 通用下拉菜单链接 - 只定义基础样式 */
      .dropdown-menu a,
      .cbi-dropdown ul li[data-value] {
        @apply block cursor-pointer text-sm no-underline transition-all duration-200;
      }
    }

    @layer nav {
      /* 导航下拉菜单 - 使用绝对定位 */
      .dropdown-menu {
        @apply invisible absolute top-full left-0 z-[1000] mt-2 min-w-[200px] scale-95 rounded-xl border border-slate-200 border-slate-200/70 bg-white bg-white/80 py-2 text-slate-800 opacity-0 shadow-2xl shadow-lg backdrop-blur-md backdrop-saturate-150 transition-all duration-200 dark:border-slate-700 dark:border-slate-700/70 dark:bg-slate-800 dark:bg-slate-900/70 dark:text-slate-100 dark:shadow-black/40;
      }

      .dropdown:hover .dropdown-menu {
        @apply visible scale-100 border-slate-300/80 bg-white/85 opacity-100 dark:border-slate-600/80 dark:bg-slate-900/75 dark:shadow-black/50;
      }

      .dropdown-menu a {
        @apply focus-visible:ring-aurora-sky/30 mx-2 block rounded-lg px-4 py-3 font-medium text-slate-700 transition-all duration-150 ease-out hover:translate-x-0.5 hover:bg-slate-200/60 hover:font-semibold hover:text-slate-900 hover:ring-1 hover:ring-slate-300/60 hover:ring-inset focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-white focus-visible:outline-none dark:text-slate-200 dark:hover:bg-slate-700/70 dark:hover:text-white dark:hover:ring-slate-600/60 dark:focus-visible:ring-offset-slate-900;
      }
    }

    @layer cbi {
      /* CBI下拉菜单基础样式 - 苹果风格设计 */
      .cbi-dropdown {
        @apply relative inline-flex items-center;
      }

      /* 下拉菜单列表容器 */
      .cbi-dropdown > ul {
        @apply m-0 flex list-none items-center p-0;
      }

      /* 下拉菜单项目基础样式 - 清除所有padding */
      .cbi-dropdown > ul > li {
        @apply hidden p-0;
      }

      /* 只显示第一个li项目 - 苹果风格按钮，清除padding */
      .cbi-dropdown > ul > li:first-child {
        @apply block cursor-pointer;
        /* @apply text-sm font-medium; */
        @apply text-slate-100 transition-colors duration-150 hover:text-slate-800 dark:text-slate-900 dark:hover:text-slate-100;
      }

      /* 更多按钮默认隐藏 */
      .cbi-dropdown > .more {
        @apply hidden;
      }

      /* 箭头样式 - 苹果风格分割线 */
      .cbi-dropdown > .open {
        @apply ml-2 cursor-pointer border-l border-slate-200 px-2 py-1.5 text-sm text-slate-100 transition-colors duration-150 hover:text-slate-600 dark:border-slate-600 dark:text-slate-900 dark:hover:text-slate-300;
      }

      /* dropdown列表 - 苹果风格悬浮菜单 */
      .cbi-dropdown > ul.dropdown {
        @apply invisible absolute top-full left-0 z-50 mt-1 flex min-w-[140px] scale-95 flex-col rounded-xl border border-slate-200/60 bg-white/95 py-1 opacity-0 shadow-xl backdrop-blur-sm transition-all duration-200 ease-out dark:border-slate-600/40 dark:bg-slate-800/95;
      }

      /* dropdown列表展开状态（嵌套属性选择器） */
      .cbi-dropdown {
        &[open] > ul.dropdown {
          @apply visible scale-100 opacity-100;
        }
      }

      /* dropdown列表中的项目 - 保留padding，苹果风格悬停效果 */
      .cbi-dropdown > ul.dropdown > li {
        @apply mx-1 block w-full cursor-pointer rounded-lg px-3 py-2 text-sm font-medium text-slate-600 transition-all duration-150 ease-out hover:bg-slate-50 hover:text-slate-800 dark:text-slate-300 dark:hover:bg-slate-700/50 dark:hover:text-slate-100;
      }

      /* preview列表 - 与open并排显示，但只显示第一个li */
      .cbi-dropdown > ul.preview {
        @apply flex items-center;
      }

      /* preview列表中的项目默认隐藏 */
      .cbi-dropdown > ul.preview > li {
        @apply hidden;
      }

      /* preview列表只显示第一个li - 苹果风格按钮，清除padding */
      .cbi-dropdown > ul.preview > li:first-child {
        @apply block cursor-pointer text-sm font-medium text-slate-100 transition-colors duration-150 hover:text-slate-800 dark:text-slate-900 dark:hover:text-slate-100;
      }

      .cbi-dropdown input[type="hidden"] {
        @apply hidden;
      }
    }
  }

  @layer progress {
    .cbi-progressbar {
      @apply h-3 w-full overflow-hidden rounded-full bg-slate-300 dark:bg-slate-700;
    }

    .cbi-progressbar > div {
      @apply from-aurora-sky to-aurora-teal h-full bg-gradient-to-r transition-all duration-300;
    }

    .cbi-progressbar {
      @apply relative cursor-help before:absolute before:left-1/2 before:z-50 before:-translate-x-1/2 before:-translate-y-1 before:rounded-lg before:text-xs/normal before:whitespace-nowrap before:text-slate-900 before:shadow-lg before:content-[attr(title)] before:dark:border-slate-600 before:dark:bg-slate-700 before:dark:text-slate-100 dark:before:text-slate-100 before:dark:shadow-black/40;
    }
  }

  @layer tooltip {
    /* 基础工具提示样式 */
    .cbi-tooltip {
      @apply hidden;
    }

    /* 工具提示容器悬停时显示（嵌套伪类） */
    .cbi-tooltip-container {
      &:hover .cbi-tooltip {
        @apply absolute z-50 block max-w-xs rounded bg-white px-2 py-1 text-xs whitespace-nowrap text-slate-900 shadow-lg dark:bg-slate-900 dark:text-slate-100;
      }
    }

    /* 左侧工具提示 */
    .cbi-tooltip.left {
      @apply right-0 left-auto w-40 transform-none;
    }

    /* 工具提示文本不换行 */
    .cbi-tooltip .nowrap {
      @apply whitespace-nowrap;
    }

    /* 工具提示加粗文本 */
    .cbi-tooltip strong {
      @apply font-semibold;
    }

    /* NFT规则中的工具提示容器 */
    .nft-rules .ifacebadge.cbi-tooltip-container {
      @apply relative cursor-help;
    }

    /* NFT规则中的工具提示定位（嵌套后代） */
    .nft-rules .ifacebadge.cbi-tooltip-container {
      & .cbi-tooltip {
        @apply absolute bottom-full left-1/2 mb-2 -translate-x-1/2 transform;
      }
    }

    /* NFT集合中的工具提示容器 */
    .nft-set.cbi-tooltip-container {
      @apply relative cursor-help;
    }

    /* NFT集合：tooltip 贴合 nft-set-items 正下方（嵌套后代） */
    .nft-set.cbi-tooltip-container {
      & .cbi-tooltip {
        @apply absolute top-full left-0 z-50 mt-1 transform-none whitespace-normal;
      }
    }

    /* NFT集合工具提示内容样式 */
    .nft-set .cbi-tooltip {
      @apply max-w-xs rounded-lg border border-slate-200/60 bg-white/95 p-2 shadow-xl backdrop-blur-sm dark:border-slate-600/40 dark:bg-slate-800/95;
    }

    .nft-set .cbi-tooltip .ifacebadge {
      @apply mb-1 block text-xs last:mb-0;
    }
  }

  @layer badge {
    /* 基础接口徽章样式 */
    .ifacebadge {
      @apply inline-flex cursor-default items-center gap-1.5 rounded-lg border border-slate-300/50 bg-white/90 px-2 py-1.5 text-xs font-medium text-slate-700 transition-all duration-200 dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-300;
    }

    /* 接口徽章图片 */
    .ifacebadge img {
      @apply h-5 w-5;
    }

    /* 接口徽章悬停效果 */
    .ifacebadge:hover {
      @apply border-slate-400/60 bg-white shadow-sm dark:border-slate-500/60 dark:bg-slate-800;
    }

    /* 激活状态的接口徽章 */
    .ifacebadge-active {
      @apply border-aurora-sky font-semibold;
    }

    /* 大尺寸接口徽章 */
    .ifacebadge.large {
      @apply inline-flex min-w-[220px] flex-1 p-2;
    }

    /* 网络状态表格中的接口徽章 */
    .network-status-table .ifacebox-body .ifacebadge {
      @apply m-0.5 flex min-w-[220px] flex-1 p-2;
    }

    .network-status-table .ifacebox-body .ifacebadge > span {
      @apply overflow-hidden text-ellipsis;
    }

    .ifacebadge > *,
    .ifacebadge.large > * {
      @apply mx-0.5;
    }

    /* 网络状态表格中的接口徽章布局 */
    .network-status-table .ifacebox-body {
      & > * { @apply m-1; }
      & > span { @apply h-full flex-1 flex-auto; }
      & > div { @apply -m-0.5 flex flex-wrap; }
    }

    /* 表格中的接口徽章 */
    .table .ifacebadge {
      @apply inline-flex items-center gap-2 rounded-lg border border-slate-300/50 bg-white/90 px-2 py-1.5 text-xs text-slate-700 transition-all duration-200 dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-300;
    }

    .table .ifacebadge {
      &:empty::before { @apply text-slate-400 dark:text-slate-500; content: '—'; }
      &:hover { @apply border-slate-400/60 bg-white shadow-sm dark:border-slate-500/60 dark:bg-slate-800; }
    }

    .table .ifacebadge img {
      @apply h-5 w-5;
    }

    /* NFT规则中的接口徽章 */
    .nft-rules .ifacebadge {
      @apply inline-flex items-center gap-1.5 rounded-md border border-slate-300/40 bg-white/80 px-2 py-1 text-xs text-slate-600 transition-all duration-200 dark:border-slate-600/40 dark:bg-slate-800/80 dark:text-slate-400;
    }

    .nft-rules .ifacebadge:hover {
      @apply border-slate-400/50 bg-white shadow-sm dark:border-slate-500/50 dark:bg-slate-800;
    }

    /* NFT集合容器 */
    .nft-set {
      @apply inline-block align-middle;
    }

    /* NFT集合项目容器 - 单行显示，溢出隐藏 */
    .nft-set-items {
      @apply inline-block max-w-[200px] overflow-hidden align-middle text-ellipsis whitespace-nowrap;
    }

    /* NFT集合项目 */
    .nft-set-item {
      @apply inline-block px-1;
    }

    /* NFT集合中的接口徽章 - 紧凑样式 */
    .nft-set .ifacebadge {
      @apply inline-flex items-center gap-1 rounded border border-slate-300/30 bg-white/70 px-1.5 py-0.5 text-xs text-slate-500 transition-all duration-200 dark:border-slate-600/30 dark:bg-slate-800/70 dark:text-slate-400;
    }

    .nft-set .ifacebadge:hover {
      @apply border-slate-400/40 bg-white shadow-sm dark:border-slate-500/40 dark:bg-slate-800;
    }

    /* NFT集合中的接口徽章图片 */
    .nft-set .ifacebadge img {
      @apply h-3 w-3;
    }

    /* 下拉菜单中的接口徽章 */
    .cbi-dropdown .ifacebadge {
      @apply inline-flex items-center gap-1.5 rounded border border-slate-300/40 bg-white/80 px-2 py-1 text-xs text-slate-600 transition-all duration-200 dark:border-slate-600/40 dark:bg-slate-800/80 dark:text-slate-400;
    }

    .cbi-dropdown .ifacebadge img {
      @apply h-4 w-4;
    }

    .cbi-dropdown .ifacebadge em {
      @apply text-slate-500 italic dark:text-slate-500;
    }

    .cbi-dropdown .ifacebadge:hover {
      @apply border-slate-400/50 bg-white shadow-sm dark:border-slate-500/50 dark:bg-slate-800;
    }

    /* 系统设置专用下拉菜单中的接口徽章 */
    .cbi-dropdown .ifacebadge {
      @apply inline-flex items-center rounded-lg border border-slate-200/50 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-700 shadow-sm transition-all duration-200 dark:border-slate-600/30 dark:bg-slate-700/50 dark:text-slate-300;
    }

    .cbi-dropdown .ifacebadge img {
      @apply mr-1 h-4 w-4;
    }

    .cbi-dropdown .ifacebadge em {
      @apply text-slate-400 italic dark:text-slate-500;
    }

    .cbi-dropdown .ifacebadge:hover {
      @apply border-slate-300/60 bg-slate-200 dark:border-slate-500/40 dark:bg-slate-600/50;
    }

    /* 接口徽章容器样式 */
    .ifacebox {
      @apply mx-2.5 inline-flex min-w-40 flex-col overflow-hidden rounded-xl border-2 border-slate-200/25 bg-white text-center leading-tight whitespace-nowrap shadow-md dark:border-slate-600/20 dark:bg-slate-800;
    }

    .ifacebox-head {
      @apply rounded-t-sm border-b border-slate-200/40 bg-slate-50 px-3 py-2 text-center text-sm font-semibold text-slate-900 dark:border-slate-600/30 dark:bg-slate-700 dark:text-slate-100;
    }

    .ifacebox-head.active {
      @apply bg-aurora-sky border-aurora-sky text-white;
    }

    .ifacebox-body {
      @apply flex flex-col items-center justify-center p-3;
    }
  }

  @layer message {
    .alert-message {
      @apply relative mb-4 rounded-2xl border border-slate-200/30 bg-gradient-to-br from-white/95 via-white/90 to-white/85 p-6 shadow-sm dark:border-slate-700/30 dark:from-slate-800/95 dark:via-slate-800/90 dark:to-slate-800/85;
    }

    /* Success State - 成功状态 */
    .alert-message.success {
      @apply border-emerald-200/40 bg-gradient-to-br from-emerald-50/90 via-emerald-100/80 to-emerald-50/90 text-emerald-900 shadow-emerald-500/10 dark:border-emerald-800/30 dark:from-emerald-900/20 dark:via-emerald-800/30 dark:to-emerald-900/20 dark:text-emerald-100 dark:shadow-emerald-400/5;
    }

    /* Info State - 信息状态 */
    .alert-message.info {
      @apply border-blue-200/40 bg-gradient-to-br from-blue-50/90 via-blue-100/80 to-blue-50/90 text-blue-900 shadow-blue-500/10 dark:border-blue-800/30 dark:from-blue-900/20 dark:via-blue-800/30 dark:to-blue-900/20 dark:text-blue-100 dark:shadow-blue-400/5;
    }

    /* Warning State - 警告状态 */
    .alert-message.warning {
      @apply border-amber-200/40 bg-gradient-to-br from-amber-50/90 via-amber-100/80 to-amber-50/90 text-amber-900 shadow-amber-500/10 dark:border-amber-800/30 dark:from-amber-900/20 dark:via-amber-800/30 dark:to-amber-900/20 dark:text-amber-100 dark:shadow-amber-400/5;
    }

    /* Error State - 错误状态 */
    .alert-message.error,
    .alert-message.danger {
      @apply border-red-200/40 bg-gradient-to-br from-red-50/90 via-red-100/80 to-red-50/90 text-red-900 shadow-red-500/10 dark:border-red-800/30 dark:from-red-900/20 dark:via-red-800/30 dark:to-red-900/20 dark:text-red-100 dark:shadow-red-400/5;
    }

    .alert-message h4 {
      @apply mb-2 text-lg font-semibold;
    }

    .alert-message p {
      @apply mb-3 text-sm leading-relaxed;
    }

    .alert-message .right {
      @apply mt-4 flex justify-end;
    }
  }

  @layer modal {
    .modal {
      @apply max-w-3xl rounded-2xl border border-slate-400/25 bg-white/85 p-8 shadow-2xl backdrop-blur-xl backdrop-saturate-150 sm:mx-auto sm:max-w-md dark:border-slate-400/20 dark:bg-white/85 dark:shadow-black/25;
    }

    .modal-header {
      @apply mb-6 border-b border-slate-400/25 pb-4 dark:border-slate-400/20;
    }

    .modal-title {
      @apply mb-0 text-xl font-semibold text-slate-900 dark:text-slate-100;
    }

    .modal-content {
      @apply mb-6 text-sm leading-relaxed text-slate-600 dark:text-slate-300;
    }

    /* 软件包管理器模态框样式 */
    .modal h4 {
      @apply mb-4 text-xl font-semibold text-slate-900 dark:text-slate-100;
    }

    .modal h5 {
      @apply mb-3 text-lg font-medium text-red-600 dark:text-red-400;
    }

    .modal pre {
      @apply max-h-64 overflow-x-auto overflow-y-auto rounded-lg border border-slate-200/50 bg-slate-50 p-4 font-mono text-sm text-slate-700 sm:max-h-64 sm:p-4 sm:text-sm dark:border-slate-700/30 dark:bg-slate-800/50 dark:text-slate-300;
    }

    .modal pre.errors {
      @apply border-red-200/50 bg-red-50 text-red-700 dark:border-red-800/30 dark:bg-red-900/20 dark:text-red-300;
    }

    .modal p {
      @apply mb-4 text-sm leading-relaxed text-slate-600 dark:text-slate-400;
    }

    .modal code {
      @apply rounded bg-slate-100 px-2 py-1 font-mono text-sm text-slate-800 dark:bg-slate-700 dark:text-slate-200;
    }

    .modal em {
      @apply text-slate-500 italic dark:text-slate-500;
    }

    /* 登录模态框样式 */
    .modal.login {
      @apply mx-auto w-full max-w-lg;
    }

    .modal.login h4 {
      @apply mb-8 text-center text-2xl font-bold text-slate-900 dark:text-slate-100;
    }

    /* 表单容器 */
    .modal.login .cbi-map {
      @apply space-y-6;
    }

    /* 表单区域 */
    .modal.login .cbi-section {
      @apply mb-0 border-0 bg-transparent p-0 shadow-none;
    }

    .modal.login .cbi-section-node {
      @apply space-y-6;
    }

    /* 表单字段 */
    .modal.login .cbi-value {
      @apply space-y-2;
    }

    /* 标签样式 */
    .modal.login .cbi-value-title {
      @apply mb-2 block text-sm font-medium text-slate-700 dark:text-slate-300;
    }

    /* 输入框容器 */
    .modal.login .cbi-value-field {
      @apply relative;
    }

    /* 输入框样式 */
    .modal.login .cbi-value-field input[type="text"],
    .modal.login .cbi-value-field input[type="password"] {
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 w-full rounded-xl border border-slate-300/50 bg-white/90 px-4 py-3 text-slate-900 placeholder-slate-400 transition-all duration-200 focus:bg-white focus:ring-2 focus:outline-none dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:bg-slate-800;
    }

    /* 分隔线 */
    .modal.login hr {
      @apply my-8 h-px border-0 bg-gradient-to-r from-transparent via-slate-300 to-transparent dark:via-slate-600;
    }

    /* 模态框覆盖层 */
    #modal_overlay {
      @apply pointer-events-none hidden bg-transparent;
    }

    .modal-overlay-active #modal_overlay {
      @apply pointer-events-auto fixed inset-0 z-[2000] grid place-items-center bg-white/45 p-4 backdrop-blur-sm;
      display: grid !important;
    }
  }

  @layer table {
    .table {
      @apply mb-6 w-full border-collapse overflow-hidden rounded-xl border border-slate-200/30 bg-white shadow-sm dark:border-slate-700/20 dark:bg-slate-800 dark:shadow-black/20;
    }

    /* 表格中的 cbi-value-field 需保持单元格布局，避免被表单 flex 影响 */
    .table .cbi-value-field {
      @apply table-cell align-middle;
    }

    .table th {
      @apply sticky top-0 z-10 border-b border-slate-400/25 bg-slate-50/50 px-4 py-3 text-left text-sm font-semibold text-slate-900 dark:border-slate-400/20 dark:bg-slate-800/30 dark:text-slate-100;
    }

    .table td {
      @apply border-b border-slate-400/20 px-4 py-3 text-sm text-slate-700 transition-colors duration-200 dark:border-slate-400/15 dark:text-slate-300;
    }

    .table .td .left {
      @apply text-left;
    }

    .table tr {
      @apply relative border-b border-slate-400/10 transition-all duration-200 last:border-b-0 hover:bg-slate-50/40 dark:border-slate-400/5 dark:hover:bg-slate-700/30;
    }

    /* 表格行样式变体 */
    .table .cbi-rowstyle-1 {
      @apply bg-white dark:bg-slate-800;
    }

    .table .cbi-rowstyle-2 {
      @apply bg-slate-50/30 dark:bg-slate-700/20;
    }

    .table .cbi-rowstyle-1:hover,
    .table .cbi-rowstyle-2:hover {
      @apply bg-slate-100/50 dark:bg-slate-700/40;
    }

    /* 悬浮时的左侧指示器 - 使用伪元素避免抖动 */
    .table tr::before {
      @apply absolute top-0 bottom-0 left-0 w-1 bg-transparent transition-colors duration-200 content-[''];
    }

    .table tr:hover::before {
      @apply bg-aurora-sky/40 dark:bg-aurora-sky/50;
    }

    /* 可排序表头 */
    .table th[data-sortable-row="true"] {
      @apply cursor-pointer transition-colors duration-200 select-none hover:bg-slate-100/50 dark:hover:bg-slate-700/40;
    }

    .table th[data-sortable-row="true"]:hover::after {
      @apply ml-2 text-xs font-normal text-slate-400 content-['↕'] dark:text-slate-500;
    }

    /* 表格标题和描述 */
    .cbi-section h3 {
      @apply mt-6 mb-4 border-b border-slate-200/40 pb-2 text-lg font-semibold text-slate-800 first:mt-0 dark:border-slate-700/30 dark:text-slate-200;
    }

    /* 特殊值样式 */
    .table .td:contains("-") {
      @apply text-slate-400 italic dark:text-slate-500;
    }

    /* 数据标题属性支持 */
    .table .td[data-title] {
      @apply relative;
    }

    /* 表格响应式设计 - 使用Tailwind CSS语法 */
    .table {
      @apply text-sm;
    }

    .table th,
    .table td {
      @apply px-4 py-3;
    }

    /* 小屏幕适配 */
    .table {
      @apply sm:text-sm;
    }

    .table th,
    .table td {
      @apply sm:px-3 sm:py-2;
    }

    /* 表格空状态 */
    .table:empty::before {
      @apply block py-8 text-center text-slate-400 content-['暂无数据'] dark:text-slate-500;
    }

    /* 表格加载状态 */
    .table.loading {
      @apply opacity-60;
    }

    .table.loading::after {
      @apply absolute inset-0 flex items-center justify-center bg-white/50 content-[''] dark:bg-slate-800/50;
    }

    /* NFT 防火墙规则表样式 */
    .nft-table {
      @apply mb-8;
    }

    .nft-table h3 {
      @apply mb-4 border-b border-slate-200/40 pb-2 text-xl font-semibold text-slate-900 dark:border-slate-700/30 dark:text-slate-100;
    }

    .nft-chains {
      @apply space-y-6;
    }

    .nft-chain {
      @apply rounded-xl border border-slate-200/30 bg-white shadow-sm dark:border-slate-700/20 dark:bg-slate-800 dark:shadow-black/20;
    }

    .nft-chain h4 {
      @apply mb-3 border-b border-slate-200/30 bg-slate-50/50 p-4 pb-3 text-lg font-medium text-slate-800 dark:border-slate-700/20 dark:bg-slate-700/30 dark:text-slate-200;
    }

    .nft-chain-hook {
      @apply border-b border-slate-200/20 bg-slate-50/30 px-4 py-3 dark:border-slate-700/15 dark:bg-slate-700/20;
    }

    .nft-chain-hook ul {
      @apply m-0 list-none p-0;
    }

    .nft-chain-hook li {
      @apply mb-1 text-sm text-slate-600 last:mb-0 dark:text-slate-400;
    }

    .nft-chain-hook strong {
      @apply font-semibold text-slate-800 dark:text-slate-200;
    }

    /* NFT 规则表样式 */
    .nft-rules {
      @apply w-full border-collapse;
    }

    .nft-rules .tr {
      @apply border-b border-slate-200/20 transition-colors duration-200 hover:bg-slate-50/40 dark:border-slate-700/15 dark:hover:bg-slate-700/30;
    }

    .nft-rules .tr.table-titles {
      @apply bg-slate-100/50 hover:bg-slate-100/50 dark:bg-slate-700/40 dark:hover:bg-slate-700/40;
    }

    .nft-rules .th {
      @apply border-b border-slate-300/30 px-3 py-2 text-left text-sm font-medium text-slate-700 dark:border-slate-600/20 dark:text-slate-300;
    }

    .nft-rules .td {
      @apply px-3 py-2 align-top text-sm text-slate-600 dark:text-slate-400;
    }

    .nft-rules .td.center {
      @apply text-center;
    }

    /* NFT 集合和列表样式 */
    .nft-set,
    .nft-list {
      @apply inline-block align-middle;
    }

    .nft-set-items,
    .nft-list-items {
      @apply inline-block max-w-[200px] overflow-hidden align-middle text-ellipsis;
    }

    .nft-set-item {
      @apply inline-block px-1;
    }

    /* NFT 计数器样式 */
    .nft-counter {
      @apply border border-slate-200/50 bg-slate-100 text-slate-700 dark:border-slate-600/30 dark:bg-slate-700/50 dark:text-slate-300;
    }

    /* NFT 注释样式 */
    .nft-comment {
      @apply border-amber-200/50 bg-amber-100/50 text-amber-800 dark:border-amber-800/30 dark:bg-amber-900/30 dark:text-amber-200;
    }

    /* NFT 变量样式 */
    .nft-rules var {
      @apply text-slate-500 italic dark:text-slate-500;
    }

    /* NFT 强调文本样式 */
    .nft-rules em {
      @apply text-slate-400 italic dark:text-slate-500;
    }

    /* NFT 链接样式 */
    .nft-rules a {
      @apply text-slate-600 underline decoration-slate-400/50 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200;
    }

    /* NFT 空链样式 */
    .nft-rules .td.center em {
      @apply text-slate-400 italic dark:text-slate-500;
    }
  }

  @layer form {
    /* 基础样式层 - Base Style Layer */
    @layer base {
      /* 值描述文本 */
      .cbi-value-description {
        @apply mt-2 text-xs leading-relaxed text-slate-500 dark:text-slate-400;
      }

      /* 值标题 */
      .cbi-value-title {
        @apply mb-2 block text-sm font-medium text-slate-700 dark:text-slate-300;
      }

      /* 值字段容器（仅表单内，且为 .cbi-value 的直接子元素） */
      .cbi-map .cbi-value > .cbi-value-field {
        @apply flex flex-1 flex-row flex-wrap items-center gap-3;
      }

      /* 值字段内的换行符删除，保证并排（仅表单内） */
      .cbi-map .cbi-value > .cbi-value-field br {
        @apply hidden;
      }

      /* 值字段内直系子元素并排且垂直居中（仅表单内） */
      .cbi-map .cbi-value > .cbi-value-field > * {
        @apply inline-flex items-center gap-2;
      }

      /* 复选框描述文字与勾选框保持同一行并垂直居中（仅表单内） */
      .cbi-map .cbi-value > .cbi-value-field .cbi-value-description {
        @apply mt-0 ml-3 inline-block leading-normal;
      }

      /* 表单项整体垂直间距（该区域的每个 cbi-value） */
      .cbi-map .cbi-section-node .cbi-value {
        @apply py-2;
      }

      .cbi-map .cbi-section-node .cbi-value + .cbi-value {
        @apply mt-3;
      }

      /* 输出区与后续元素的间距（按钮与描述之间，仅表单内） */
      .cbi-map .cbi-value > .cbi-value-field output {
        @apply mr-3;
      }

      /* 表单内标题与表格的额外顶部间距 */
      .cbi-map .cbi-section-node > h3 {
        @apply mt-6;
      }

      .cbi-map .cbi-section-node > .table {
        @apply mt-4;
      }

      /* 值容器 */
      .cbi-value {
        @apply space-y-3;
      }

      .hidden {
        @apply hidden;
      }

      /* 输入框组样式 */
      .cbi-input-text {
        @apply focus:border-aurora-sky focus:ring-aurora-sky/20 dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 rounded-lg border border-slate-300/50 bg-white/90 px-3 py-2 text-sm text-slate-900 transition-all duration-200 focus:bg-white focus:ring-2 focus:outline-none dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100 dark:focus:bg-slate-800;
      }
    }

    /* 动态列表层 - Dynamic List Layer */
    @layer dynamic-list {
      /* 动态列表容器 */
      .cbi-dynlist {
        @apply space-y-2;
      }

      /* 动态列表项目 */
      .cbi-dynlist .item {
        @apply focus:ring-aurora-sky/20 focus:border-aurora-sky dark:focus:ring-aurora-sky-400/20 dark:focus:border-aurora-sky-400 pointer-events-none relative flex cursor-move flex-col items-start gap-2 rounded-lg border border-slate-200/50 bg-white/80 p-3 pr-8 transition-all duration-200 hover:border-slate-300/60 hover:bg-white hover:shadow-sm focus:ring-2 focus:outline-none dark:border-slate-600/40 dark:bg-slate-800/80 dark:hover:border-slate-500/50 dark:hover:bg-slate-800 dark:hover:shadow-black/10;
        @apply overflow-visible;
      }

      /* 恢复子元素的点击事件（文本选择、拖拽等） */
      .cbi-dynlist .item > * {
        @apply pointer-events-auto;
      }

      /* 删除标记伪元素（右侧交叉线，纯 Tailwind 写法） */
      .cbi-dynlist .item::before,
      .cbi-dynlist .item::after {
        @apply pointer-events-auto absolute top-1 right-1 h-3 w-[2px] cursor-pointer rounded-full bg-red-600 transition-colors duration-200 dark:bg-red-500;
      }

      .cbi-dynlist .item::before {
        @apply rotate-45;
      }

      .cbi-dynlist .item::after {
        @apply -rotate-45;
      }

      .cbi-dynlist .item:hover::before,
      .cbi-dynlist .item:hover::after {
        @apply bg-red-700 dark:bg-red-400;
      }

      /* 动态列表项目文本 */
      .cbi-dynlist .item span {
        @apply max-w-full flex-1 text-sm font-medium break-words text-slate-700 dark:text-slate-300;
      }

      /* 文件名等加粗文本与代码块的溢出处理 */
      .cbi-dynlist .item strong {
        @apply mb-1 block max-w-full font-semibold break-words text-slate-800 dark:text-slate-100;
      }

      .cbi-dynlist .item code {
        @apply block w-full max-w-full overflow-x-auto font-mono text-xs leading-snug whitespace-pre text-slate-800 dark:text-slate-200;
      }

      /* 动态列表项目隐藏输入 */
      .cbi-dynlist .item input[type="hidden"] {
        @apply hidden;
      }

      /* 添加项目区域 */
      .cbi-dynlist .add-item {
        @apply flex items-center gap-2 rounded-lg border-2 border-dashed border-slate-300/40 bg-slate-50/50 p-3 transition-all duration-200 hover:border-slate-400/60 hover:bg-slate-100/50 dark:border-slate-600/40 dark:bg-slate-800/30 dark:hover:border-slate-500/60 dark:hover:bg-slate-700/40;
      }

      /* 添加项目输入框 */
      .cbi-dynlist .add-item input[type="text"] {
        @apply focus:border-aurora-sky focus:ring-aurora-sky/20 dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 flex-1 rounded-lg border border-slate-300/50 bg-white/90 px-3 py-2 text-sm text-slate-900 transition-all duration-200 focus:bg-white focus:ring-2 focus:outline-none dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100 dark:focus:bg-slate-800;
      }

      /* 添加按钮 */
      .cbi-dynlist .add-item .btn.cbi-button-add {
        @apply bg-aurora-sky hover:bg-aurora-sky-600 focus:ring-aurora-sky/20 flex h-8 w-8 items-center justify-center rounded-lg text-lg leading-none font-bold text-white transition-colors duration-200 focus:ring-2 focus:ring-offset-2 focus:outline-none dark:focus:ring-offset-slate-800;
      }

      /* 项目状态样式 */
      .cbi-dynlist .item.flash {
        @apply border-aurora-sky/60 bg-aurora-sky/5 animate-pulse;
      }

      /* 拖拽状态 */
      .cbi-dynlist .item:active {
        @apply scale-95 shadow-lg;
      }

      /* 控制组样式 */
      .cbi-dynlist .control-group {
        @apply flex items-center gap-2;
      }
    }

    /* Map Description 组件样式 - 地图描述组件 */
    @layer map-description {
      /* 地图描述 */
      .cbi-map-descr {
        @apply mb-6 text-sm leading-relaxed text-slate-600 dark:text-slate-400;
      }
    }

    /* Section Node Tabbed 组件样式 - 标签页组件 */
    @layer section-node-tabbed {
      /* 标签页内容区域 */
      .cbi-section-node-tabbed {
        @apply mt-6;
      }

      /* 标签页内容容器 */
      [id^="container."] {
        @apply relative;
      }

      /* 标签页内容显示控制 */
      [data-tab-title] {
        @apply h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in;
      }

      [data-tab-active="true"] {
        @apply h-auto overflow-visible opacity-100;
      }
    }
  }

  @layer segmented {
    .cbi-tabmenu {
      @apply inline-flex items-center gap-1 rounded-3xl border border-slate-200/40 bg-slate-100/50 p-1 dark:border-slate-700/30 dark:bg-slate-800/30;
    }

    .cbi-tabmenu li {
      @apply m-0 list-none;
    }

    .cbi-tabmenu .cbi-tab a,
    .cbi-tabmenu .cbi-tab-disabled a {
      @apply block rounded-2xl px-4 py-2 text-center text-sm font-medium text-slate-600 no-underline dark:text-slate-400;
    }

    .cbi-tabmenu .cbi-tab a {
      @apply bg-slate-900 font-semibold text-white dark:bg-slate-100 dark:text-white;
    }
  }

  @layer tab {
    /* 基础标签页容器 */
    #tabmenu {
      @apply mb-8 w-full;
    }

    /* 标签页列表 */
    .tabs {
      @apply relative flex items-center gap-0 border-b border-slate-200/40 dark:border-slate-700/30;
    }

    /* 标签页链接 */
    .tabs a {
      @apply block px-8 py-4 text-center text-sm font-medium whitespace-nowrap text-slate-500 no-underline transition-colors duration-200 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300;
    }

    .tabs > .active > a {
      @apply font-semibold text-slate-900 dark:text-slate-100;
    }

    .tabs > .active::after {
      @apply absolute bottom-0 left-0 h-0.5 w-full bg-slate-900 content-[''] dark:bg-slate-100;
    }

    /* 标签页内容显示控制 - 纯Tailwind CSS写法 */
    [data-tab-title] {
      @apply h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in;
    }

    [data-tab-active="true"] {
      @apply h-auto overflow-visible opacity-100;
    }

    /* 标签页内容容器样式 */
    .cbi-section-node-tabbed {
      @apply mt-6;
    }

    /* 标签页内容区域 */
    [id^="container."] {
      @apply relative;
    }
  }

  @layer card {
    /* CBI Section Components - 系统状态卡片组件 */
    .cbi-section {
      @apply mb-4 rounded-xl border-2 border-slate-200/30 bg-white p-6 shadow-lg dark:border-slate-600/25 dark:bg-slate-800;
    }

    .cbi-section h3 {
      @apply mb-4 border-b border-slate-200/40 pb-3 text-xl font-semibold text-slate-900 dark:border-slate-600/30 dark:text-slate-100;
    }

    /* Network Interface Components - 网络接口组件 */
    .ifacebox {
      @apply mx-2.5 inline-flex min-w-40 flex-col overflow-hidden rounded-xl border-2 border-slate-200/25 bg-white text-center leading-tight whitespace-nowrap shadow-md dark:border-slate-600/20 dark:bg-slate-800;
    }

    /* Fade In Animation */
    .cbi-section .fade-in {
      @apply animate-pulse opacity-0;
    }

    .ifacebox-head {
      @apply rounded-t-sm border-b border-slate-200/40 bg-slate-50 px-3 py-2 text-center text-sm font-semibold text-slate-900 dark:border-slate-600/30 dark:bg-slate-700 dark:text-slate-100;
    }

    .ifacebox-head.active {
      @apply bg-aurora-sky border-aurora-sky text-white;
    }

    .ifacebox-body {
      @apply flex flex-col items-center justify-center p-3;
    }
  }
}
