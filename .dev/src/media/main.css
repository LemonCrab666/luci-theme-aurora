/* Tailwind CSS v4 Aurora Theme for OpenWrt LuCI */
@import "tailwindcss";

/* Dark Mode Variant Configuration */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Custom Font Family */
  --font-sans:
    "Lato", "Inter", "SF Pro Text", "SF Pro Icons", "Helvetica Neue",
    "Helvetica", "Arial", ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  /* Aurora Color Palette - Light Mode */
  --color-aurora-green: #6ee7b7;
  --color-aurora-green-50: oklch(97.2% 0.019 158.743);
  --color-aurora-green-100: oklch(94.8% 0.045 159.652);
  --color-aurora-green-200: oklch(90.5% 0.089 160.125);
  --color-aurora-green-300: oklch(84.7% 0.148 160.742);
  --color-aurora-green-400: oklch(89.6% 0.143 162.4);
  --color-aurora-green-500: oklch(77.1% 0.198 161.205);
  --color-aurora-green-600: oklch(64.3% 0.175 161.428);
  --color-aurora-green-700: oklch(55.2% 0.142 162.113);
  --color-aurora-green-800: oklch(47.1% 0.112 162.895);
  --color-aurora-green-900: oklch(40.8% 0.089 163.742);
  --color-aurora-green-950: oklch(27.9% 0.061 165.128);

  --color-aurora-teal: #4fc3c7;
  --color-aurora-teal-50: oklch(97.8% 0.016 185.234);
  --color-aurora-teal-100: oklch(95.1% 0.041 186.152);
  --color-aurora-teal-200: oklch(90.8% 0.079 187.063);
  --color-aurora-teal-300: oklch(85.2% 0.128 187.894);
  --color-aurora-teal-400: oklch(77.9% 0.168 188.745);
  --color-aurora-teal-500: oklch(75.8% 0.145 188.2);
  --color-aurora-teal-600: oklch(62.1% 0.145 189.632);
  --color-aurora-teal-700: oklch(53.4% 0.118 190.485);
  --color-aurora-teal-800: oklch(45.8% 0.094 191.328);
  --color-aurora-teal-900: oklch(39.7% 0.074 192.156);
  --color-aurora-teal-950: oklch(28.2% 0.052 193.864);

  --color-aurora-sky: #499ecb;
  --color-aurora-sky-50: oklch(97.4% 0.015 242.187);
  --color-aurora-sky-100: oklch(94.6% 0.031 243.059);
  --color-aurora-sky-200: oklch(89.7% 0.061 244.128);
  --color-aurora-sky-300: oklch(82.5% 0.108 245.306);
  --color-aurora-sky-400: oklch(73.8% 0.159 246.584);
  --color-aurora-sky-500: oklch(68.5% 0.169 237.3);
  --color-aurora-sky-600: oklch(57.2% 0.182 248.947);
  --color-aurora-sky-700: oklch(49.1% 0.156 249.823);
  --color-aurora-sky-800: oklch(42.6% 0.127 250.694);
  --color-aurora-sky-900: oklch(37.8% 0.103 251.546);
  --color-aurora-sky-950: oklch(27.1% 0.072 253.189);

  /* Aurora Color Palette - Dark Mode */
  --color-aurora-night-slate: #0f172a;
  --color-aurora-night-slate-50: oklch(96.8% 0.008 245.123);
  --color-aurora-night-slate-100: oklch(93.2% 0.018 246.084);
  --color-aurora-night-slate-200: oklch(86.4% 0.035 247.159);
  --color-aurora-night-slate-300: oklch(76.8% 0.062 248.347);
  --color-aurora-night-slate-400: oklch(64.2% 0.098 249.638);
  --color-aurora-night-slate-500: oklch(52.1% 0.128 250.942);
  --color-aurora-night-slate-600: oklch(41.8% 0.145 252.258);
  --color-aurora-night-slate-700: oklch(33.6% 0.142 253.586);
  --color-aurora-night-slate-800: oklch(26.8% 0.128 254.926);
  --color-aurora-night-slate-900: oklch(11.8% 0.042 264.7);
  --color-aurora-night-slate-950: oklch(11.2% 0.089 257.847);

  --color-aurora-night-teal: #134e4a;
  --color-aurora-night-teal-50: oklch(96.9% 0.012 168.245);
  --color-aurora-night-teal-100: oklch(92.8% 0.028 169.137);
  --color-aurora-night-teal-200: oklch(85.6% 0.055 170.029);
  --color-aurora-night-teal-300: oklch(75.4% 0.089 170.921);
  --color-aurora-night-teal-400: oklch(62.8% 0.128 171.813);
  --color-aurora-night-teal-500: oklch(51.2% 0.156 172.705);
  --color-aurora-night-teal-600: oklch(41.5% 0.172 173.597);
  --color-aurora-night-teal-700: oklch(33.8% 0.168 174.489);
  --color-aurora-night-teal-800: oklch(27.6% 0.148 175.381);
  --color-aurora-night-teal-900: oklch(29.5% 0.074 175.4);
  --color-aurora-night-teal-950: oklch(18.9% 0.089 177.165);

  --color-aurora-night-emerald: #065f46;
  --color-aurora-night-emerald-50: oklch(97.1% 0.015 155.743);
  --color-aurora-night-emerald-100: oklch(94.2% 0.035 156.652);
  --color-aurora-night-emerald-200: oklch(88.9% 0.068 157.561);
  --color-aurora-night-emerald-300: oklch(81.3% 0.112 158.47);
  --color-aurora-night-emerald-400: oklch(71.8% 0.158 159.379);
  --color-aurora-night-emerald-500: oklch(61.2% 0.189 160.288);
  --color-aurora-night-emerald-600: oklch(51.8% 0.198 161.197);
  --color-aurora-night-emerald-700: oklch(43.6% 0.185 162.106);
  --color-aurora-night-emerald-800: oklch(36.8% 0.156 163.015);
  --color-aurora-night-emerald-900: oklch(34.2% 0.118 163.2);
  --color-aurora-night-emerald-950: oklch(22.1% 0.089 164.833);
}

@layer base {
  /* Font Face Declaration */
  @font-face {
    font-display: swap;
    font-family: "Lato";
    font-style: normal;
    font-weight: 400;
    src: url("./fonts/lato-v24-latin-regular.woff2") format("woff2");
  }

  /* Root Element */
  html {
    @apply h-full font-sans;
  }

  /* Global Margin/Padding Reset */
  * {
    @apply m-0 box-border p-0;
  }

  /* Body Styles */
  body {
    @apply min-h-screen overflow-x-hidden bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200 text-sm leading-relaxed font-normal text-slate-900 transition-all duration-300;
    @apply dark:from-aurora-night-slate dark:via-aurora-night-teal dark:to-aurora-night-emerald dark:bg-gradient-to-br dark:text-slate-100;
    @apply bg-fixed;
    @apply relative;
    @apply before:pointer-events-none before:fixed before:inset-0 before:-z-10 before:content-[''];
  }

  /* Typography Base */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans leading-tight font-semibold tracking-tight text-slate-900 dark:text-slate-100;
  }

  h1 {
    @apply mb-4 text-3xl;
  }

  h2 {
    @apply mb-4 text-2xl;
  }

  h3 {
    @apply mb-4 text-xl;
  }

  h4 {
    @apply mb-2 text-lg;
  }

  h5 {
    @apply mb-2 text-base;
  }

  h6 {
    @apply mb-2 text-sm;
  }

  p {
    @apply mb-4 text-sm leading-relaxed text-slate-600 dark:text-slate-300;
  }

  small {
    @apply text-xs font-normal text-slate-500 dark:text-slate-400;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-slate-400/5;
    @apply dark:bg-aurora-night-slate;
  }

  ::-webkit-scrollbar-thumb {
    @apply dark:bg-aurora-teal rounded bg-slate-400/30;
    @apply dark:hover:bg-aurora-night-emerald hover:bg-slate-400/50;
  }
}

@layer components {
  /* Layout Components */
  @layer layout {
    .layout-main {
      @apply mx-auto min-h-screen w-4/5 max-w-7xl px-6 pt-16;
    }

    .layout-view {
      @apply mb-6 w-full rounded-lg border border-slate-200 bg-white p-6 shadow-sm;
      @apply dark:border-slate-700 dark:bg-slate-800;
    }

    header {
      @apply fixed top-0 right-0 left-0 z-50 flex items-center justify-between px-6 py-3 transition-all duration-300;
      @apply border-b border-white/10 bg-white/5 dark:border-slate-700/30 dark:bg-slate-900/80;
      @apply hover:border-b hover:border-white/20 hover:bg-white/15 hover:shadow-lg hover:backdrop-blur-xl hover:backdrop-saturate-150;
      @apply dark:hover:from-aurora-night-slate-800 dark:hover:via-aurora-night-teal-800 dark:hover:to-aurora-night-emerald-800 dark:hover:bg-gradient-to-r;
      @apply dark:hover:border-slate-600/40 dark:hover:shadow-black/50;
    }

    .brand {
      @apply inline-block flex-shrink-0 text-xl font-semibold tracking-tight no-underline transition-all duration-200;
      @apply hover:text-aurora-sky text-slate-900 hover:-translate-y-0.5 dark:text-slate-100;
    }

    .nav {
      @apply absolute left-1/2 m-0 flex -translate-x-1/2 transform list-none items-center gap-1 p-0;
    }

    .nav > li {
      @apply relative;
    }

    .menu {
      @apply block rounded px-3 py-2 text-xs font-normal no-underline;
      @apply text-slate-600 dark:text-slate-300;
      @apply hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-700 dark:hover:text-slate-100;
      @apply transition-colors duration-200;
    }

    footer {
      @apply mt-auto border-t border-slate-200 py-2 text-xs text-slate-500;
      @apply dark:border-slate-700 dark:text-slate-400;
      @apply flex flex-wrap items-center justify-center;
    }

    footer span {
      @apply inline-block text-center;
    }

    footer a {
      @apply text-aurora-sky hover:text-aurora-sky-600 no-underline;
    }

    footer .breadcrumb {
      @apply m-0 mb-4 px-3 py-2;
      @apply rounded border border-slate-200 bg-slate-50;
      @apply dark:border-slate-700 dark:bg-slate-800;
      @apply flex;
    }

    footer .breadcrumb li {
      @apply list-none;
    }

    footer .breadcrumb li:not(:last-child)::after {
      content: "|";
      @apply px-2 text-slate-400;
    }

    footer .breadcrumb li.active a {
      @apply text-slate-600 dark:text-slate-300;
    }

    footer .breadcrumb a {
      @apply text-aurora-sky hover:text-aurora-sky-600;
    }

    footer ul.breadcrumb {
      @apply ml-auto;
    }
  }

  @layer button {
    /* 基础按钮样式 */
    @layer base {
      /* 基线按钮 */
      button,
      .btn,
      .cbi-button {
        @apply inline-flex items-center justify-center gap-2 rounded-lg font-medium text-white;
        @apply bg-aurora-sky dark:bg-aurora-sky-500;
        @apply px-4 py-2 text-sm;
        @apply transition-all duration-200;
        @apply hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400;
        @apply focus:ring-aurora-sky/30 focus:ring-2 focus:ring-offset-2 focus:outline-none;
        @apply dark:focus:ring-offset-slate-900;
        @apply shadow-sm hover:shadow-md;
        @apply transform hover:scale-[1.02] active:scale-[0.98];
      }

      /* 按钮间距调整 */
      .btn + .btn,
      .cbi-button + .cbi-button {
        @apply ml-2;
      }

      /* 主要按钮 */
      .btn-primary {
        @apply px-4 py-2 text-sm;
        @apply bg-aurora-sky dark:bg-aurora-sky-500;
        @apply hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400;
        @apply focus:ring-aurora-sky/30;
        @apply shadow-aurora-sky/20 hover:shadow-aurora-sky/30;
      }

      /* 次要按钮 */
      .btn-secondary {
        @apply border border-slate-300 bg-white text-slate-700;
        @apply dark:border-slate-600 dark:bg-slate-700 dark:text-slate-300;
        @apply hover:bg-slate-50 dark:hover:bg-slate-600;
        @apply focus:ring-slate-400/30;
        @apply shadow-slate-400/10 hover:shadow-slate-400/20;
      }

      /* 积极按钮 */
      .btn-positive {
        @apply w-full px-6 py-3 text-sm font-semibold;
        @apply bg-aurora-sky dark:bg-aurora-sky-500;
        @apply hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400;
        @apply focus:ring-aurora-sky/30;
        @apply shadow-aurora-sky/20 hover:shadow-aurora-sky/30;
      }

      /* 操作按钮 - 启动/重启/重新加载 */
      .cbi-button-action {
        @apply bg-aurora-sky dark:bg-aurora-sky-500;
        @apply hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400;
        @apply focus:ring-aurora-sky/30;
        @apply shadow-aurora-sky/20 hover:shadow-aurora-sky/30;
        @apply font-medium text-white;
      }

      /* 状态按钮 - 已启用 */
      .cbi-button-positive {
        @apply bg-emerald-600 dark:bg-emerald-500;
        @apply hover:bg-emerald-700 dark:hover:bg-emerald-600;
        @apply focus:ring-emerald-600/30;
        @apply shadow-emerald-600/20 hover:shadow-emerald-700/30;
        @apply font-medium text-white;
        @apply cursor-default;
      }

      /* 状态按钮 - 已禁用 */
      .cbi-button-negative {
        @apply bg-slate-300 dark:bg-slate-600;
        @apply hover:bg-slate-400 dark:hover:bg-slate-700;
        @apply focus:ring-slate-300/30;
        @apply shadow-slate-300/20 hover:shadow-slate-400/30;
        @apply font-medium text-slate-700 dark:text-slate-300;
        @apply cursor-default;
      }

      /* 危险操作按钮 - 停止 */
      .cbi-button-action:contains("停止") {
        @apply bg-red-600 dark:bg-red-500;
        @apply hover:bg-red-700 dark:hover:bg-red-600;
        @apply focus:ring-red-600/30;
        @apply shadow-red-600/20 hover:shadow-red-700/30;
      }

      /* 重启按钮特殊样式 */
      .cbi-button-action:contains("重启") {
        @apply bg-amber-600 dark:bg-amber-500;
        @apply hover:bg-amber-700 dark:hover:bg-amber-600;
        @apply focus:ring-amber-600/30;
        @apply shadow-amber-600/20 hover:shadow-amber-700/30;
      }

      /* 重新加载按钮特殊样式 */
      .cbi-button-action:contains("重新加载") {
        @apply bg-blue-600 dark:bg-blue-500;
        @apply hover:bg-blue-700 dark:hover:bg-blue-600;
        @apply focus:ring-blue-600/30;
        @apply shadow-blue-600/20 hover:shadow-blue-700/30;
      }

      /* 启动按钮特殊样式 */
      .cbi-button-action:contains("启动") {
        @apply bg-emerald-600 dark:bg-emerald-500;
        @apply hover:bg-emerald-700 dark:hover:bg-emerald-600;
        @apply focus:ring-emerald-600/30;
        @apply shadow-emerald-600/20 hover:shadow-emerald-700/30;
      }

      /* 按钮组容器样式 */
      .cbi-section-actions div {
        @apply flex items-center gap-2;
        @apply flex-wrap;
      }

      /* 表格中的按钮组 */
      .td.cbi-section-actions {
        @apply p-3;
      }

      .td.cbi-section-actions div {
        @apply justify-start;
      }
    }

    /* 页面操作按钮样式 */
    @layer page-actions {
      /* 页面操作容器 */
      .cbi-page-actions {
        @apply mt-8 flex items-center justify-end gap-3 border-t pt-6;
        @apply border-slate-200/50 dark:border-slate-700/30;
        @apply flex-wrap;
      }

      /* 页面操作按钮 */
      .cbi-page-actions .btn,
      .cbi-page-actions .cbi-button {
        @apply rounded-xl px-6 py-3 text-sm font-medium transition-all duration-200;
        @apply focus:ring-aurora-sky/30 focus:ring-2 focus:ring-offset-2 focus:outline-none;
        @apply dark:focus:ring-offset-slate-900;
      }

      /* 保存按钮 */
      .cbi-page-actions .cbi-button-save {
        @apply bg-aurora-sky dark:bg-aurora-sky-500 text-white;
        @apply hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400;
        @apply shadow-sm hover:shadow-md;
      }

      /* 复位按钮 */
      .cbi-page-actions .cbi-button-reset {
        @apply bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300;
        @apply border border-slate-300/50 dark:border-slate-600/50;
        @apply hover:bg-slate-200 dark:hover:bg-slate-600;
      }
    }

    /* 控制组按钮样式 */
    @layer control-group {
      /* 控制组容器 */
      .control-group {
        @apply mt-2 flex items-center gap-3;
        @apply flex-wrap;
      }

      /* 控制组中的按钮 */
      .control-group .btn,
      .control-group .cbi-button {
        @apply rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200;
        @apply bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300;
        @apply border border-slate-300/50 dark:border-slate-600/50;
        @apply hover:bg-slate-200 dark:hover:bg-slate-600;
        @apply focus:ring-aurora-sky/20 focus:ring-2 focus:ring-offset-2 focus:outline-none;
        @apply dark:focus:ring-offset-slate-900;
      }

      /* 控制组中的应用按钮 */
      .control-group .cbi-button-apply {
        @apply bg-aurora-sky/10 dark:bg-aurora-sky/20 text-aurora-sky dark:text-aurora-sky-300;
        @apply border-aurora-sky/30 dark:border-aurora-sky/40;
        @apply hover:bg-aurora-sky/20 dark:hover:bg-aurora-sky/30;
        @apply hover:border-aurora-sky/40 dark:hover:border-aurora-sky/50;
      }
    }

    /* 动态列表按钮样式 */
    @layer dynamic-list {
      /* 添加按钮 */
      .cbi-dynlist .btn.cbi-button-add {
        @apply rounded-lg px-4 py-2 text-lg font-medium text-white;
        @apply bg-aurora-sky dark:bg-aurora-sky-500;
        @apply hover:bg-aurora-sky-600 dark:hover:bg-aurora-sky-400;
        @apply transition-all duration-200;
        @apply focus:ring-aurora-sky/30 focus:ring-2 focus:ring-offset-2 focus:outline-none;
        @apply dark:focus:ring-offset-slate-900;
        @apply min-w-[40px];
      }
    }

    /* 模态框按钮样式 */
    @layer modal {
      /* 模态框按钮行 */
      .modal .button-row {
        @apply mt-6 flex justify-end gap-3 border-t border-slate-200/50 pt-4 dark:border-slate-700/30;
        @apply sm:flex-row sm:gap-3;
      }

      .modal .btn {
        @apply rounded-lg px-6 py-2.5 text-sm font-medium transition-all duration-200;
        @apply border border-slate-300/50 bg-slate-100 text-slate-700;
        @apply dark:border-slate-600/50 dark:bg-slate-700 dark:text-slate-200;
        @apply hover:bg-slate-200 dark:hover:bg-slate-600;
        @apply focus:ring-aurora-sky/30 focus:ring-2 focus:ring-offset-2 focus:outline-none;
        @apply dark:focus:ring-offset-slate-900;
        @apply sm:w-auto;
      }

      /* 登录模态框按钮 */
      .modal.login .btn.cbi-button-positive.important {
        @apply w-full rounded-xl px-6 py-3 text-base font-semibold;
        @apply from-aurora-sky to-aurora-teal bg-gradient-to-r text-white;
        @apply dark:from-aurora-sky-500 dark:to-aurora-teal-500;
        @apply shadow-lg transition-all duration-200 hover:shadow-xl;
        @apply hover:scale-[1.02] active:scale-[0.98];
        @apply focus:ring-aurora-sky/30 focus:ring-2 focus:ring-offset-2 focus:outline-none;
        @apply dark:focus:ring-offset-slate-900;
      }
    }
  }

  /* Input Components */
  @layer input {
    .input-text,
    .input-password,
    .input-email {
      @apply rounded-lg border px-4 py-3 text-sm font-normal transition-all duration-200;
      @apply border-slate-400/20 bg-white/85 text-slate-900;
      @apply dark:border-slate-400/15 dark:bg-white/85;
      @apply focus:border-aurora-sky focus:ring-aurora-sky/10 focus:bg-white/95 focus:ring-2 focus:outline-none;
    }

    .select {
      @apply rounded-lg border px-4 py-3 text-sm font-normal transition-all duration-200;
      @apply border-slate-400/20 bg-white/85 text-slate-900;
      @apply dark:border-slate-400/15 dark:bg-white/85;
      @apply focus:border-aurora-sky focus:ring-aurora-sky/10 focus:bg-white/95 focus:ring-2 focus:outline-none;
    }

    .textarea {
      @apply min-h-32 resize-y rounded-lg border px-4 py-3 text-sm font-normal transition-all duration-200;
      @apply border-slate-400/20 bg-white/85 text-slate-900;
      @apply dark:border-slate-400/15 dark:bg-white/85;
      @apply focus:border-aurora-sky focus:ring-aurora-sky/10 focus:bg-white/95 focus:ring-2 focus:outline-none;
    }
  }

  @layer progress {
    .cbi-progressbar {
      @apply h-3 w-full overflow-hidden rounded-full bg-slate-300 dark:bg-slate-700;
    }

    .cbi-progressbar > div {
      @apply from-aurora-sky to-aurora-teal h-full bg-gradient-to-r transition-all duration-300;
    }

    .cbi-progressbar {
      @apply relative cursor-help;
      @apply before:rounded-lg before:text-xs/normal before:text-slate-900 before:shadow-lg before:content-[attr(title)] dark:before:text-slate-100;
      @apply before:absolute before:left-1/2 before:z-50 before:-translate-x-1/2 before:-translate-y-1 before:whitespace-nowrap;
      @apply before:dark:border-slate-600 before:dark:bg-slate-700 before:dark:text-slate-100;
      @apply before:dark:shadow-black/40;
    }
  }

  @layer card {
    /* CBI Section Components - 系统状态卡片组件 */
    .cbi-section {
      @apply mb-4 rounded-xl border-2 bg-white p-6 shadow-lg;
      @apply border-slate-200/30 dark:border-slate-600/25;
      @apply dark:bg-slate-800;
    }

    .cbi-section h3 {
      @apply mb-4 border-b border-slate-200/40 pb-3 text-xl font-semibold text-slate-900 dark:border-slate-600/30 dark:text-slate-100;
    }

    /* Network Interface Components - 网络接口组件 */
    .ifacebox {
      @apply mx-2.5 min-w-40 border-2 border-slate-200/25 text-center whitespace-nowrap;
      @apply overflow-hidden rounded-xl bg-white shadow-md;
      @apply dark:border-slate-600/20 dark:bg-slate-800;
      @apply inline-flex flex-col leading-tight;
    }

    /* Tooltip Styles */
    .cbi-tooltip {
      @apply hidden;
    }

    .cbi-tooltip-container:hover .cbi-tooltip {
      @apply absolute z-50 block rounded px-2 py-1 text-xs text-slate-900 shadow-lg;
      @apply left-1/2 -translate-x-1/2 -translate-y-full transform;
      @apply max-w-xs bg-white whitespace-nowrap;
      @apply dark:bg-slate-900 dark:text-slate-100;
    }

    .cbi-tooltip.left {
      @apply right-0 left-auto w-40 transform-none;
    }

    .cbi-tooltip .nowrap {
      @apply whitespace-nowrap;
    }

    .cbi-tooltip strong {
      @apply font-semibold;
    }

    /* Fade In Animation */
    .cbi-section .fade-in {
      @apply animate-pulse opacity-0;
    }

    .ifacebox-head {
      @apply rounded-t-sm border-b border-slate-200/40 px-3 py-2;
      @apply text-center text-sm font-semibold text-slate-900;
      @apply bg-slate-50 dark:border-slate-600/30 dark:bg-slate-700 dark:text-slate-100;
    }

    .ifacebox-head.active {
      @apply bg-aurora-sky border-aurora-sky text-white;
    }

    .ifacebox-body {
      @apply flex flex-col items-center justify-center p-3;
    }

    /* Network Interface Badge */
    .ifacebadge {
      @apply inline-block flex-row border border-slate-200/50 p-1;
      @apply rounded bg-white text-slate-900 shadow-sm;
      @apply cursor-default leading-tight;
      @apply dark:border-slate-600/40 dark:bg-slate-800 dark:text-slate-100;
    }

    .ifacebadge img {
      @apply h-8 w-8 align-middle;
    }

    .ifacebadge-active {
      @apply border-aurora-sky font-semibold;
    }

    .network-status-table .ifacebox-body > * {
      @apply m-1;
    }

    .network-status-table .ifacebox-body > span {
      @apply h-full flex-1 flex-auto;
    }

    .network-status-table .ifacebox-body > div {
      @apply -m-0.5 flex flex-wrap;
    }

    /* Large Interface Badge */
    .ifacebadge.large,
    .network-status-table .ifacebox-body .ifacebadge {
      @apply m-0.5 flex min-w-[220px] flex-1 p-2;
    }

    .ifacebadge.large {
      @apply inline-flex;
    }

    .network-status-table .ifacebox-body .ifacebadge > span {
      @apply overflow-hidden text-ellipsis;
    }

    .ifacebadge > *,
    .ifacebadge.large > * {
      @apply mx-0.5;
    }
  }

  @layer table {
    .table {
      @apply mb-6 w-full border-collapse;
      @apply rounded-xl border border-slate-200/30 bg-white dark:border-slate-700/20 dark:bg-slate-800;
      @apply overflow-hidden shadow-sm dark:shadow-black/20;
    }

    .table th {
      @apply border-b px-4 py-3 text-left text-sm font-semibold;
      @apply border-slate-400/25 bg-slate-50/50 text-slate-900;
      @apply dark:border-slate-400/20 dark:bg-slate-800/30 dark:text-slate-100;
      @apply sticky top-0 z-10;
    }

    .table td {
      @apply border-b border-slate-400/20 px-4 py-3 text-sm text-slate-700;
      @apply dark:border-slate-400/15 dark:text-slate-300;
      @apply transition-colors duration-200;
    }

    .table .td .left {
      @apply text-left;
    }

    .table tr {
      @apply border-b border-slate-400/10 dark:border-slate-400/5;
      @apply last:border-b-0;
      @apply hover:bg-slate-50/40 dark:hover:bg-slate-700/30;
      @apply transition-all duration-200;
      @apply relative;
    }

    /* 表格行样式变体 */
    .table .cbi-rowstyle-1 {
      @apply bg-white dark:bg-slate-800;
    }

    .table .cbi-rowstyle-2 {
      @apply bg-slate-50/30 dark:bg-slate-700/20;
    }

    .table .cbi-rowstyle-1:hover,
    .table .cbi-rowstyle-2:hover {
      @apply bg-slate-100/50 dark:bg-slate-700/40;
    }

    /* 悬浮时的左侧指示器 - 使用伪元素避免抖动 */
    .table tr::before {
      @apply absolute top-0 bottom-0 left-0 w-1 content-[''];
      @apply bg-transparent transition-colors duration-200;
    }

    .table tr:hover::before {
      @apply bg-aurora-sky/40 dark:bg-aurora-sky/50;
    }

    /* 可排序表头 */
    .table th[data-sortable-row="true"] {
      @apply cursor-pointer select-none;
      @apply hover:bg-slate-100/50 dark:hover:bg-slate-700/40;
      @apply transition-colors duration-200;
    }

    .table th[data-sortable-row="true"]:hover::after {
      @apply ml-2 text-slate-400 content-['↕'] dark:text-slate-500;
      @apply text-xs font-normal;
    }

    /* 表格标题和描述 */
    .cbi-section h3 {
      @apply mt-6 mb-4 text-lg font-semibold first:mt-0;
      @apply text-slate-800 dark:text-slate-200;
      @apply border-b border-slate-200/40 pb-2 dark:border-slate-700/30;
    }

    /* 接口徽章优化 */
    .table .ifacebadge {
      @apply inline-flex items-center px-3 py-1.5 text-xs font-medium;
      @apply bg-slate-100 text-slate-700 dark:bg-slate-700/50 dark:text-slate-300;
      @apply border border-slate-200/50 dark:border-slate-600/30;
      @apply rounded-lg shadow-sm;
      @apply transition-colors duration-200;
      @apply hover:bg-slate-200 dark:hover:bg-slate-600/50;
      @apply hover:border-slate-300/60 dark:hover:border-slate-500/40;
    }

    .table .ifacebadge:empty::before {
      @apply text-slate-400 content-['-'] dark:text-slate-500;
    }

    /* 特殊值样式 */
    .table .td:contains("-") {
      @apply text-slate-400 italic dark:text-slate-500;
    }

    /* 数据标题属性支持 */
    .table .td[data-title] {
      @apply relative;
    }

    /* 表格响应式设计 - 使用Tailwind CSS语法 */
    .table {
      @apply text-sm;
    }

    .table th,
    .table td {
      @apply px-4 py-3;
    }

    .table .ifacebadge {
      @apply px-3 py-1.5 text-xs;
    }

    /* 小屏幕适配 */
    .table {
      @apply sm:text-sm;
    }

    .table th,
    .table td {
      @apply sm:px-3 sm:py-2;
    }

    .table .ifacebadge {
      @apply sm:px-2 sm:py-1 sm:text-xs;
    }

    /* 表格空状态 */
    .table:empty::before {
      @apply block py-8 text-center text-slate-400 content-['暂无数据'] dark:text-slate-500;
    }

    /* 表格加载状态 */
    .table.loading {
      @apply opacity-60;
    }

    .table.loading::after {
      @apply absolute inset-0 bg-white/50 content-[''] dark:bg-slate-800/50;
      @apply flex items-center justify-center;
    }

    /* NFT 防火墙规则表样式 */
    .nft-table {
      @apply mb-8;
    }

    .nft-table h3 {
      @apply mb-4 text-xl font-semibold text-slate-900 dark:text-slate-100;
      @apply border-b border-slate-200/40 pb-2 dark:border-slate-700/30;
    }

    .nft-chains {
      @apply space-y-6;
    }

    .nft-chain {
      @apply rounded-xl border border-slate-200/30 bg-white dark:border-slate-700/20 dark:bg-slate-800;
      @apply shadow-sm dark:shadow-black/20;
    }

    .nft-chain h4 {
      @apply mb-3 p-4 pb-3 text-lg font-medium text-slate-800 dark:text-slate-200;
      @apply border-b border-slate-200/30 dark:border-slate-700/20;
      @apply bg-slate-50/50 dark:bg-slate-700/30;
    }

    .nft-chain-hook {
      @apply bg-slate-50/30 px-4 py-3 dark:bg-slate-700/20;
      @apply border-b border-slate-200/20 dark:border-slate-700/15;
    }

    .nft-chain-hook ul {
      @apply m-0 list-none p-0;
    }

    .nft-chain-hook li {
      @apply mb-1 text-sm text-slate-600 last:mb-0 dark:text-slate-400;
    }

    .nft-chain-hook strong {
      @apply font-semibold text-slate-800 dark:text-slate-200;
    }

    /* NFT 规则表样式 */
    .nft-rules {
      @apply w-full border-collapse;
    }

    .nft-rules .tr {
      @apply border-b border-slate-200/20 dark:border-slate-700/15;
      @apply hover:bg-slate-50/40 dark:hover:bg-slate-700/30;
      @apply transition-colors duration-200;
    }

    .nft-rules .tr.table-titles {
      @apply bg-slate-100/50 dark:bg-slate-700/40;
      @apply hover:bg-slate-100/50 dark:hover:bg-slate-700/40;
    }

    .nft-rules .th {
      @apply px-3 py-2 text-left text-sm font-medium;
      @apply text-slate-700 dark:text-slate-300;
      @apply border-b border-slate-300/30 dark:border-slate-600/20;
    }

    .nft-rules .td {
      @apply px-3 py-2 align-top text-sm;
      @apply text-slate-600 dark:text-slate-400;
    }

    .nft-rules .td.center {
      @apply text-center;
    }

    /* NFT 接口徽章样式 */
    .nft-rules .ifacebadge {
      @apply mx-0.5 mb-1 inline-block px-2 py-1 text-xs font-medium;
      @apply bg-slate-100 text-slate-700 dark:bg-slate-700/50 dark:text-slate-300;
      @apply border border-slate-200/50 dark:border-slate-600/30;
      @apply rounded-md shadow-sm;
      @apply transition-colors duration-200;
    }

    .nft-rules .ifacebadge:hover {
      @apply bg-slate-200 dark:bg-slate-600/50;
      @apply border-slate-300/60 dark:border-slate-500/40;
    }

    .nft-rules .ifacebadge.cbi-tooltip-container {
      @apply cursor-help;
    }

    .nft-rules .ifacebadge.cbi-tooltip-container .cbi-tooltip {
      @apply p-2;
    }

    /* NFT 集合和列表样式 */
    .nft-set,
    .nft-list {
      @apply inline-block align-middle;
    }

    .nft-set-items,
    .nft-list-items {
      @apply inline-block max-w-[200px] overflow-hidden align-middle;
      @apply text-ellipsis;
    }

    .nft-set-item {
      @apply inline-block px-1;
    }

    /* NFT 计数器样式 */
    .nft-counter {
      @apply bg-slate-100 dark:bg-slate-700/50;
      @apply border border-slate-200/50 dark:border-slate-600/30;
      @apply text-slate-700 dark:text-slate-300;
    }

    /* NFT 注释样式 */
    .nft-comment {
      @apply bg-amber-100/50 dark:bg-amber-900/30;
      @apply border-amber-200/50 dark:border-amber-800/30;
      @apply text-amber-800 dark:text-amber-200;
    }

    /* NFT 变量样式 */
    .nft-rules var {
      @apply text-slate-500 italic dark:text-slate-500;
    }

    /* NFT 强调文本样式 */
    .nft-rules em {
      @apply text-slate-400 italic dark:text-slate-500;
    }

    /* NFT 链接样式 */
    .nft-rules a {
      @apply text-slate-600 dark:text-slate-400;
      @apply hover:text-slate-800 dark:hover:text-slate-200;
      @apply underline decoration-slate-400/50;
    }

    /* NFT 空链样式 */
    .nft-rules .td.center em {
      @apply text-slate-400 italic dark:text-slate-500;
    }
  }

  @layer message {
    .alert-message {
      @apply relative mb-4 rounded-2xl p-6 shadow-sm;
      @apply bg-gradient-to-br from-white/95 via-white/90 to-white/85;
      @apply dark:from-slate-800/95 dark:via-slate-800/90 dark:to-slate-800/85;
      @apply border border-slate-200/30 dark:border-slate-700/30;
    }

    /* Success State - 成功状态 */
    .alert-message.success {
      @apply bg-gradient-to-br from-emerald-50/90 via-emerald-100/80 to-emerald-50/90;
      @apply dark:from-emerald-900/20 dark:via-emerald-800/30 dark:to-emerald-900/20;
      @apply border-emerald-200/40 dark:border-emerald-800/30;
      @apply text-emerald-900 dark:text-emerald-100;
      @apply shadow-emerald-500/10 dark:shadow-emerald-400/5;
    }

    /* Info State - 信息状态 */
    .alert-message.info {
      @apply bg-gradient-to-br from-blue-50/90 via-blue-100/80 to-blue-50/90;
      @apply dark:from-blue-900/20 dark:via-blue-800/30 dark:to-blue-900/20;
      @apply border-blue-200/40 dark:border-blue-800/30;
      @apply text-blue-900 dark:text-blue-100;
      @apply shadow-blue-500/10 dark:shadow-blue-400/5;
    }

    /* Warning State - 警告状态 */
    .alert-message.warning {
      @apply bg-gradient-to-br from-amber-50/90 via-amber-100/80 to-amber-50/90;
      @apply dark:from-amber-900/20 dark:via-amber-800/30 dark:to-amber-900/20;
      @apply border-amber-200/40 dark:border-amber-800/30;
      @apply text-amber-900 dark:text-amber-100;
      @apply shadow-amber-500/10 dark:shadow-amber-400/5;
    }

    /* Error State - 错误状态 */
    .alert-message.error,
    .alert-message.danger {
      @apply bg-gradient-to-br from-red-50/90 via-red-100/80 to-red-50/90;
      @apply dark:from-red-900/20 dark:via-red-800/30 dark:to-red-900/20;
      @apply border-red-200/40 dark:border-red-800/30;
      @apply text-red-900 dark:text-red-100;
      @apply shadow-red-500/10 dark:shadow-red-400/5;
    }

    .alert-message h4 {
      @apply mb-2 text-lg font-semibold;
    }

    .alert-message p {
      @apply mb-3 text-sm leading-relaxed;
    }

    .alert-message .right {
      @apply mt-4 flex justify-end;
    }
  }

  @layer modal {
    .modal {
      @apply max-w-3xl rounded-2xl border border-slate-400/25 bg-white/85 p-8 shadow-2xl;
      @apply dark:border-slate-400/20 dark:bg-white/85 dark:shadow-black/25;
      @apply backdrop-blur-xl backdrop-saturate-150;
      @apply sm:mx-auto sm:max-w-md;
    }

    .modal-header {
      @apply mb-6 border-b border-slate-400/25 pb-4 dark:border-slate-400/20;
    }

    .modal-title {
      @apply mb-0 text-xl font-semibold text-slate-900 dark:text-slate-100;
    }

    .modal-content {
      @apply mb-6 text-sm leading-relaxed text-slate-600 dark:text-slate-300;
    }

    /* 软件包管理器模态框样式 */
    .modal h4 {
      @apply mb-4 text-xl font-semibold text-slate-900 dark:text-slate-100;
    }

    .modal h5 {
      @apply mb-3 text-lg font-medium text-red-600 dark:text-red-400;
    }

    .modal pre {
      @apply rounded-lg bg-slate-50 p-4 font-mono text-sm dark:bg-slate-800/50;
      @apply border border-slate-200/50 text-slate-700 dark:border-slate-700/30 dark:text-slate-300;
      @apply max-h-64 overflow-x-auto overflow-y-auto;
      @apply sm:max-h-64 sm:p-4 sm:text-sm;
    }

    .modal pre.errors {
      @apply border-red-200/50 bg-red-50 dark:border-red-800/30 dark:bg-red-900/20;
      @apply text-red-700 dark:text-red-300;
    }

    .modal p {
      @apply mb-4 text-sm leading-relaxed text-slate-600 dark:text-slate-400;
    }

    .modal code {
      @apply rounded bg-slate-100 px-2 py-1 text-sm dark:bg-slate-700;
      @apply font-mono text-slate-800 dark:text-slate-200;
    }

    .modal em {
      @apply text-slate-500 italic dark:text-slate-500;
    }

    /* 登录模态框样式 */
    .modal.login {
      @apply mx-auto w-full max-w-lg;
    }

    .modal.login h4 {
      @apply mb-8 text-center text-2xl font-bold text-slate-900 dark:text-slate-100;
    }

    /* 表单容器 */
    .modal.login .cbi-map {
      @apply space-y-6;
    }

    /* 表单区域 */
    .modal.login .cbi-section {
      @apply mb-0 border-0 bg-transparent p-0 shadow-none;
    }

    .modal.login .cbi-section-node {
      @apply space-y-6;
    }

    /* 表单字段 */
    .modal.login .cbi-value {
      @apply space-y-2;
    }

    /* 标签样式 */
    .modal.login .cbi-value-title {
      @apply mb-2 block text-sm font-medium text-slate-700 dark:text-slate-300;
    }

    /* 输入框容器 */
    .modal.login .cbi-value-field {
      @apply relative;
    }

    /* 输入框样式 */
    .modal.login .cbi-value-field input[type="text"],
    .modal.login .cbi-value-field input[type="password"] {
      @apply w-full rounded-xl border px-4 py-3 transition-all duration-200;
      @apply border-slate-300/50 bg-white/90 text-slate-900;
      @apply dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100;
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 focus:bg-white focus:ring-2 focus:outline-none;
      @apply dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 dark:focus:bg-slate-800;
      @apply placeholder-slate-400 dark:placeholder-slate-500;
    }

    /* 分隔线 */
    .modal.login hr {
      @apply my-8 h-px border-0 bg-gradient-to-r from-transparent via-slate-300 to-transparent;
      @apply dark:via-slate-600;
    }

    /* 模态框覆盖层 */
    #modal_overlay {
      @apply pointer-events-none hidden bg-transparent;
    }

    .modal-overlay-active #modal_overlay {
      @apply pointer-events-auto fixed inset-0 z-[2000] grid place-items-center bg-white/45 p-4 backdrop-blur-sm;
      display: grid !important;
    }

    /* 响应式设计 */
    @media (max-width: 640px) {
      .modal {
        @apply mx-4 max-w-sm p-6;
      }

      .modal pre {
        @apply max-h-48 p-3 text-xs;
      }

      .modal .button-row {
        @apply flex-col gap-2;
      }

      .modal .btn {
        @apply w-full;
      }
    }
  }

  /* Tab Components */
  @layer tab {
    /* 基础标签页容器 */
    #tabmenu {
      @apply mb-8 w-full;
    }

    /* 标签页列表 */
    .tabs {
      @apply relative flex items-center gap-0 border-b border-slate-200/40 dark:border-slate-700/30;
    }

    /* 标签页项目 - 系统管理 */
    .tabmenu-item-password,
    .tabmenu-item-dropbear,
    .tabmenu-item-sshkeys,
    .tabmenu-item-uhttpd,
    .tabmenu-item-repokeys {
      @apply relative;
    }

    /* 标签页项目 - HomeProxy 服务 */
    .tabmenu-item-client,
    .tabmenu-item-node,
    .tabmenu-item-server,
    .tabmenu-item-status {
      @apply relative;
    }

    /* 标签页项目 - 系统日志 */
    .tabmenu-item-syslog,
    .tabmenu-item-dmesg {
      @apply relative;
    }

    /* 新增：实时状态标签页项目 */
    .tabmenu-item-load,
    .tabmenu-item-bandwidth,
    .tabmenu-item-connections {
      @apply relative;
    }

    /* 标签页链接 */
    .tabs a {
      @apply block px-8 py-4 text-center text-sm font-medium whitespace-nowrap text-slate-500 no-underline transition-colors duration-200 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300;
    }

    /* 激活状态的标签页 - 系统管理 */
    .tabmenu-item-password.active a,
    .tabmenu-item-dropbear.active a,
    .tabmenu-item-sshkeys.active a,
    .tabmenu-item-uhttpd.active a,
    .tabmenu-item-repokeys.active a {
      @apply text-aurora-sky dark:text-aurora-sky-300 font-semibold;
    }

    /* 激活状态的标签页 - HomeProxy 服务 */
    .tabmenu-item-client.active a,
    .tabmenu-item-node.active a,
    .tabmenu-item-server.active a,
    .tabmenu-item-status.active a {
      @apply text-aurora-sky dark:text-aurora-sky-300 font-semibold;
    }

    /* 激活状态的标签页 - 系统日志 */
    .tabmenu-item-syslog.active a,
    .tabmenu-item-dmesg.active a {
      @apply text-aurora-sky dark:text-aurora-sky-300 font-semibold;
    }

    /* 新增：激活状态的标签页 - 实时状态 */
    .tabmenu-item-load.active a,
    .tabmenu-item-bandwidth.active a,
    .tabmenu-item-connections.active a {
      @apply text-aurora-sky dark:text-aurora-sky-300 font-semibold;
    }

    /* 激活状态的底部指示器 - 系统管理 */
    .tabmenu-item-password.active::after,
    .tabmenu-item-dropbear.active::after,
    .tabmenu-item-sshkeys.active::after,
    .tabmenu-item-uhttpd.active::after,
    .tabmenu-item-repokeys.active::after {
      @apply bg-aurora-sky dark:bg-aurora-sky-300 absolute bottom-0 left-0 h-0.5 w-full content-[''];
    }

    /* 激活状态的底部指示器 - HomeProxy 服务 */
    .tabmenu-item-client.active::after,
    .tabmenu-item-node.active::after,
    .tabmenu-item-server.active::after,
    .tabmenu-item-status.active::after {
      @apply bg-aurora-sky dark:bg-aurora-sky-300 absolute bottom-0 left-0 h-0.5 w-full content-[''];
    }

    /* 激活状态的底部指示器 - 系统日志 */
    .tabmenu-item-syslog.active::after,
    .tabmenu-item-dmesg.active::after {
      @apply bg-aurora-sky dark:bg-aurora-sky-300 absolute bottom-0 left-0 h-0.5 w-full content-[''];
    }

    /* 新增：激活状态的底部指示器 - 实时状态 */
    .tabmenu-item-load.active::after,
    .tabmenu-item-bandwidth.active::after,
    .tabmenu-item-connections.active::after {
      @apply bg-aurora-sky dark:bg-aurora-sky-300 absolute bottom-0 left-0 h-0.5 w-full content-[''];
    }

    /* cbi-tabmenu 标签样式 - 简约苹果风格 */
    .cbi-tabmenu {
      @apply inline-flex items-center gap-1 p-1;
      @apply bg-slate-100/50 dark:bg-slate-800/30;
      @apply border border-slate-200/40 dark:border-slate-700/30;
      @apply rounded-3xl;
    }

    .cbi-tabmenu li {
      @apply m-0 list-none;
    }

    .cbi-tabmenu .cbi-tab a,
    .cbi-tabmenu .cbi-tab-disabled a {
      @apply block px-4 py-2 text-center text-sm font-medium no-underline;
      @apply rounded-2xl transition-all duration-300 ease-out;
      @apply text-slate-600 dark:text-slate-400;
      @apply hover:text-slate-900 dark:hover:text-slate-200;
      @apply hover:bg-slate-100 dark:hover:bg-slate-800/50;
      @apply hover:scale-105;
    }

    .cbi-tabmenu .cbi-tab a {
      @apply text-white dark:text-white;
      @apply from-aurora-sky to-aurora-teal bg-gradient-to-r;
      @apply dark:from-aurora-sky-500 dark:to-aurora-teal-500;
      @apply dark:shadow-aurora-sky/20 shadow-md;
      @apply font-semibold;
    }

    .cbi-tabmenu .cbi-tab-disabled a {
      @apply text-slate-400 dark:text-slate-500;
      @apply bg-slate-50 dark:bg-slate-800/30;
      @apply border border-slate-200/50 dark:border-slate-600/30;
      @apply cursor-not-allowed;
      @apply hover:scale-100 hover:bg-slate-50 dark:hover:bg-slate-800/30;
    }

    .cbi-tabmenu .cbi-tab a:focus,
    .cbi-tabmenu .cbi-tab-disabled a:focus {
      @apply ring-aurora-sky/30 ring-2 ring-offset-2 ring-offset-white outline-none dark:ring-offset-slate-900;
    }

    .cbi-tabmenu .cbi-tab a:hover {
      @apply from-aurora-sky-600 to-aurora-teal-600;
      @apply dark:from-aurora-sky-400 dark:to-aurora-teal-400;
      @apply dark:shadow-aurora-sky/30 shadow-lg;
      @apply scale-105 transform;
    }

    /* 标签页内容显示控制 - 纯Tailwind CSS写法 */
    [data-tab-title] {
      @apply h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in;
    }

    [data-tab-active="true"] {
      @apply h-auto overflow-visible opacity-100;
    }

    /* 标签页内容容器样式 */
    .cbi-section-node-tabbed {
      @apply mt-6;
    }

    /* 标签页内容区域 */
    [id^="container."] {
      @apply relative;
    }
  }

  @layer segmented {
    /* 基础分段控制器容器 */
    .cbi-tabmenu {
      @apply inline-flex items-center gap-1 rounded-2xl bg-slate-100/40 p-1 dark:bg-slate-800/30;
      @apply border border-slate-200/40 dark:border-slate-700/30;
      @apply relative;
    }

    /* 分段控制器项目 */
    .cbi-tab {
      @apply relative;
    }

    /* 分段控制器链接 */
    .cbi-tab a {
      @apply block px-4 py-2 text-center text-sm font-medium no-underline;
      @apply text-slate-600 dark:text-slate-400;
      @apply rounded-xl transition-all duration-300 ease-out;
      @apply hover:text-slate-800 dark:hover:text-slate-300;
      @apply relative overflow-hidden;
    }

    /* 激活状态的分段控制器 */
    .cbi-tab.active a {
      @apply bg-aurora-sky dark:bg-aurora-sky-500 text-white;
      @apply shadow-sm;
    }

    /* 未激活状态的分段控制器 */
    .cbi-tab:not(.active) a {
      @apply text-slate-500 dark:text-slate-500;
      @apply bg-slate-200/30 dark:bg-slate-700/30;
      @apply border border-slate-300/40 dark:border-slate-600/40;
    }

    /* 未激活状态的悬停效果 */
    .cbi-tab:not(.active):hover a {
      @apply bg-slate-200/50 dark:bg-slate-700/50;
      @apply text-slate-700 dark:text-slate-400;
    }

    /* 禁用状态的分段控制器 */
    .cbi-tab-disabled a {
      @apply text-slate-400 dark:text-slate-500;
      @apply cursor-not-allowed opacity-60;
      @apply bg-slate-100/50 dark:bg-slate-800/50;
    }

    /* 分段控制器的焦点状态 */
    .cbi-tab a:focus {
      @apply ring-aurora-sky/20 ring-2 ring-offset-1 ring-offset-white outline-none dark:ring-offset-slate-900;
    }

    /* 内容隐藏效果 */
    .tab-content > div {
      @apply hidden;
    }

    .tab-content > .active {
      @apply block;
    }

    /* 错误提示样式 */
    .cbi-tab-disabled[data-errors]::after {
      @apply bg-red-500 text-white content-[attr(data-errors)];
      @apply h-4 min-w-4 rounded-full text-center;
      @apply mr-1 px-1 py-0.5;
      @apply inline-flex flex-col justify-center;
      @apply text-xs;
    }
  }

  /* 新增：Select 组件样式 */
  @layer select {
    /* 基础选择器样式 */
    .cbi-input-select {
      @apply w-full rounded-xl border px-4 py-3 text-sm font-normal transition-all duration-200;
      @apply border-slate-300/50 bg-white/90 text-slate-900;
      @apply dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100;
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 focus:bg-white focus:ring-2 focus:outline-none;
      @apply dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 dark:focus:bg-slate-800;
      @apply cursor-pointer;
    }

    /* 选择器选项样式 */
    .cbi-input-select option {
      @apply bg-white text-slate-900 dark:bg-slate-800 dark:text-slate-100;
      @apply px-3 py-2;
    }

    /* 选择器悬停效果 */
    .cbi-input-select:hover {
      @apply border-slate-400/60 dark:border-slate-500/60;
    }

    /* 选择器焦点状态 */
    .cbi-input-select:focus {
      @apply border-aurora-sky dark:border-aurora-sky-400;
      @apply ring-aurora-sky/20 dark:ring-aurora-sky-400/20 ring-2;
    }
  }

  /* 新增：Checkbox 组件样式 */
  @layer checkbox {
    /* 复选框容器 */
    .cbi-checkbox {
      @apply relative inline-flex items-center;
    }

    /* 复选框输入框 */
    .cbi-checkbox input[type="checkbox"] {
      @apply h-5 w-5 rounded-lg border-2 transition-all duration-200;
      @apply text-aurora-sky border-slate-300/50 bg-white;
      @apply dark:border-slate-600/50 dark:bg-slate-800;
      @apply focus:ring-aurora-sky/20 focus:ring-2 focus:ring-offset-2 focus:outline-none;
      @apply dark:focus:ring-offset-slate-900;
      @apply cursor-pointer;
      @apply appearance-none;
    }

    /* 复选框选中状态 */
    .cbi-checkbox input[type="checkbox"]:checked {
      @apply bg-aurora-sky border-aurora-sky;
      @apply dark:bg-aurora-sky-500 dark:border-aurora-sky-500;
    }

    /* 复选框选中状态的勾选标记 */
    .cbi-checkbox input[type="checkbox"]:checked::after {
      @apply absolute inset-0 flex items-center justify-center content-['✓'];
      @apply text-sm font-bold text-white;
    }

    /* 复选框悬停效果 */
    .cbi-checkbox input[type="checkbox"]:hover {
      @apply border-slate-400/60 dark:border-slate-500/60;
    }

    /* 复选框标签 */
    .cbi-checkbox label {
      @apply ml-3 cursor-pointer text-sm font-medium;
      @apply text-slate-700 dark:text-slate-300;
    }
  }

  /* Dropdown Components - 统一的下拉菜单组件 */
  @layer dropdown {
    /* 基础下拉菜单样式 */
    @layer base {
      /* 通用下拉菜单容器 */
      .dropdown,
      .cbi-dropdown {
        @apply relative inline-block;
      }

      /* 通用下拉菜单列表 */
      .dropdown-menu,
      .cbi-dropdown ul {
        @apply invisible absolute top-full left-0 z-[1000] mt-2 min-w-[200px] rounded-xl border py-2 opacity-0;
        @apply border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800;
        @apply shadow-lg dark:shadow-black/40;
        @apply transition-all duration-200;
      }

      /* 通用下拉菜单项目 */
      .dropdown-menu li,
      .cbi-dropdown ul li {
        @apply m-0 list-none;
      }

      /* 通用下拉菜单链接 */
      .dropdown-menu a,
      .cbi-dropdown ul li[data-value] {
        @apply mx-2 block rounded-lg px-4 py-3 text-sm no-underline transition-all duration-200;
        @apply text-slate-600 dark:text-slate-300;
        @apply hover:bg-aurora-sky/10 dark:hover:bg-aurora-sky/20;
        @apply hover:text-aurora-sky dark:hover:text-aurora-sky-300;
        @apply cursor-pointer;
      }

      /* 通用下拉菜单展开状态 */
      .dropdown:hover .dropdown-menu,
      .cbi-dropdown:focus-within ul,
      .cbi-dropdown:hover ul {
        @apply visible opacity-100;
      }
    }

    /* 传统下拉菜单样式 */
    @layer traditional {
      .dropdown-menu {
        @apply scale-95 shadow-2xl;
        @apply border-white/20 bg-white/10 dark:border-slate-400/10 dark:bg-white/15 dark:shadow-black/30;
        @apply backdrop-blur-lg backdrop-saturate-150;
      }

      .dropdown:hover .dropdown-menu {
        @apply scale-100 border-white/30 bg-white/20 dark:border-slate-400/20 dark:bg-white/25 dark:shadow-black/50;
        @apply backdrop-blur-xl backdrop-saturate-150;
      }

      .dropdown-menu a {
        @apply font-medium;
        @apply hover:from-aurora-sky hover:to-aurora-teal hover:translate-x-1 hover:bg-gradient-to-r hover:shadow-lg;
        @apply hover:backdrop-blur-md hover:backdrop-saturate-125;
      }
    }

    @layer cbi {
      .cbi-dropdown.btn.cbi-button-apply.important {
        @apply from-aurora-sky to-aurora-teal bg-gradient-to-r text-white;
        @apply dark:from-aurora-sky-500 dark:to-aurora-teal-500;
        @apply shadow-lg hover:shadow-xl;
        @apply hover:scale-[1.02] active:scale-[0.98];
        @apply relative inline-flex items-center justify-between gap-2 rounded-xl px-6 py-3;
        @apply text-sm font-medium transition-all duration-200;
        @apply focus:ring-aurora-sky/30 focus:ring-2 focus:ring-offset-2 focus:outline-none;
        @apply dark:focus:ring-offset-slate-900;
        @apply cursor-pointer;
      }

      .cbi-dropdown .open {
        @apply text-xs text-slate-400 dark:text-slate-500;
      }

      .cbi-dropdown .more {
        @apply text-xs text-slate-400 dark:text-slate-500;
      }

      /* CBI 下拉菜单隐藏输入 */
      .cbi-dropdown input[type="hidden"] {
        @apply hidden;
      }
    }

    /* 系统设置专用下拉菜单样式 */
    @layer system-settings {
      /* 系统设置中的接口徽章 */
      .cbi-dropdown .ifacebadge {
        @apply inline-flex items-center px-3 py-1.5 text-xs font-medium;
        @apply bg-slate-100 text-slate-700 dark:bg-slate-700/50 dark:text-slate-300;
        @apply border border-slate-200/50 dark:border-slate-600/30;
        @apply rounded-lg shadow-sm;
        @apply transition-all duration-200;
      }

      .cbi-dropdown .ifacebadge img {
        @apply mr-1 h-4 w-4;
      }

      .cbi-dropdown .ifacebadge em {
        @apply text-slate-400 italic dark:text-slate-500;
      }

      /* 系统设置中的接口徽章悬停效果 */
      .cbi-dropdown .ifacebadge:hover {
        @apply bg-slate-200 dark:bg-slate-600/50;
        @apply border-slate-300/60 dark:border-slate-500/40;
      }
    }
  }

  /* 新增：Textarea 组件样式 */
  @layer textarea {
    /* 文本域 */
    .cbi-input-textarea {
      @apply w-full rounded-xl border px-4 py-3 text-sm font-normal transition-all duration-200;
      @apply border-slate-300/50 bg-white/90 text-slate-900;
      @apply dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100;
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 focus:bg-white focus:ring-2 focus:outline-none;
      @apply dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 dark:focus:bg-slate-800;
      @apply placeholder-slate-400 dark:placeholder-slate-500;
      @apply min-h-32 resize-y;
    }

    /* 文本域悬停效果 */
    .cbi-input-textarea:hover {
      @apply border-slate-400/60 dark:border-slate-500/60;
    }

    /* 文本域焦点状态 */
    .cbi-input-textarea:focus {
      @apply border-aurora-sky dark:border-aurora-sky-400;
      @apply ring-aurora-sky/20 dark:ring-aurora-sky-400/20 ring-2;
    }
  }

  /* Alert Components */
  @layer alert {
    .alert {
      @apply mb-6 rounded-xl border-l-4 p-6 text-white shadow-lg;
      @apply from-aurora-green via-aurora-teal to-aurora-sky border-l-aurora-green bg-gradient-to-r;
    }

    .alert-success {
      @apply mb-6 rounded-xl border-l-4 border-l-emerald-500 bg-emerald-500/10 p-6 text-slate-900;
      @apply dark:text-slate-100;
    }

    .alert-warning {
      @apply mb-6 rounded-xl border-l-4 border-l-amber-500 bg-amber-500/10 p-6 text-slate-900;
      @apply dark:text-slate-100;
    }

    .alert-error {
      @apply mb-6 rounded-xl border-l-4 border-l-red-500 bg-red-500/10 p-6 text-slate-900;
      @apply dark:text-slate-100;
    }

    .alert-info {
      @apply bg-aurora-sky/10 border-l-aurora-sky mb-6 rounded-xl border-l-4 p-6 text-slate-900;
      @apply dark:text-slate-100;
    }
  }

  /* 新增：Dynamic List 组件样式 */
  @layer dynamic-list {
    /* 动态列表容器 */
    .cbi-dynlist {
      @apply space-y-2;
    }

    /* 动态列表项目 */
    .cbi-dynlist .item {
      @apply flex items-center justify-between rounded-lg border p-3;
      @apply border-slate-200/50 bg-white/80 dark:border-slate-600/40 dark:bg-slate-800/80;
      @apply cursor-move transition-all duration-200;
      @apply hover:bg-white dark:hover:bg-slate-800;
      @apply hover:border-slate-300/60 dark:hover:border-slate-500/50;
      @apply hover:shadow-sm dark:hover:shadow-black/10;
    }

    /* 动态列表项目文本 */
    .cbi-dynlist .item span {
      @apply text-sm font-medium text-slate-700 dark:text-slate-300;
      @apply flex-1;
    }

    /* 动态列表项目隐藏输入 */
    .cbi-dynlist .item input[type="hidden"] {
      @apply hidden;
    }

    /* 添加项目区域 */
    .cbi-dynlist .add-item {
      @apply flex items-center gap-2 rounded-lg border-2 border-dashed p-3;
      @apply border-slate-300/40 dark:border-slate-600/40;
      @apply bg-slate-50/50 dark:bg-slate-800/30;
      @apply transition-all duration-200;
      @apply hover:border-slate-400/60 dark:hover:border-slate-500/60;
      @apply hover:bg-slate-100/50 dark:hover:bg-slate-700/40;
    }

    /* 添加项目输入框 */
    .cbi-dynlist .add-item input[type="text"] {
      @apply flex-1 rounded-lg border px-3 py-2 text-sm transition-all duration-200;
      @apply border-slate-300/50 bg-white/90 text-slate-900;
      @apply dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100;
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 focus:bg-white focus:ring-2 focus:outline-none;
      @apply dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 dark:focus:bg-slate-800;
    }
  }

  /* 新增：Value Description 组件样式 */
  @layer value-description {
    /* 值描述文本 */
    .cbi-value-description {
      @apply mt-2 text-xs text-slate-500 dark:text-slate-400;
      @apply leading-relaxed;
    }
  }

  /* 新增：Hidden 组件样式 */
  @layer hidden {
    /* 隐藏元素 */
    .hidden {
      @apply hidden;
    }
  }

  /* 新增：Password Input 组件样式 */
  @layer password-input {
    /* 密码输入框 */
    .password-input {
      @apply w-full rounded-xl border px-4 py-3 text-sm font-normal transition-all duration-200;
      @apply border-slate-300/50 bg-white/90 text-slate-900;
      @apply dark:border-slate-600/50 dark:bg-slate-800/90 dark:text-slate-100;
      @apply focus:border-aurora-sky focus:ring-aurora-sky/20 focus:bg-white focus:ring-2 focus:outline-none;
      @apply dark:focus:border-aurora-sky-400 dark:focus:ring-aurora-sky-400/20 dark:focus:bg-slate-800;
      @apply placeholder-slate-400 dark:placeholder-slate-500;
    }

    /* 密码输入框悬停效果 */
    .password-input:hover {
      @apply border-slate-400/60 dark:border-slate-500/60;
    }

    /* 密码输入框焦点状态 */
    .password-input:focus {
      @apply border-aurora-sky dark:border-aurora-sky-400;
      @apply ring-aurora-sky/20 dark:ring-aurora-sky-400/20 ring-2;
    }
  }

  /* 新增：Map Description 组件样式 */
  @layer map-description {
    /* 地图描述 */
    .cbi-map-descr {
      @apply mb-6 text-sm text-slate-600 dark:text-slate-400;
      @apply leading-relaxed;
    }
  }

  /* 新增：Section Node Tabbed 组件样式 */
  @layer section-node-tabbed {
    /* 标签页内容区域 */
    .cbi-section-node-tabbed {
      @apply mt-6;
    }

    /* 标签页内容容器 */
    [id^="container."] {
      @apply relative;
    }

    /* 标签页内容显示控制 */
    [data-tab-title] {
      @apply h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in;
    }

    [data-tab-active="true"] {
      @apply h-auto overflow-visible opacity-100;
    }
  }

  /* 新增：Interface Badge 在系统设置中的样式 */
  @layer interface-badge-system {
    /* 系统设置中的接口徽章 */
    .cbi-dropdown .ifacebadge {
      @apply inline-flex items-center px-3 py-1.5 text-xs font-medium;
      @apply bg-slate-100 text-slate-700 dark:bg-slate-700/50 dark:text-slate-300;
      @apply border border-slate-200/50 dark:border-slate-600/30;
      @apply rounded-lg shadow-sm;
      @apply transition-all duration-200;
    }

    .cbi-dropdown .ifacebadge img {
      @apply mr-1 h-4 w-4;
    }

    .cbi-dropdown .ifacebadge em {
      @apply text-slate-500 italic dark:text-slate-400;
    }
  }

  /* Legacy Component Mappings */
  @layer legacy {
    /* Legacy Layout Mapping */
    #maincontent.container {
      @apply mx-auto min-h-screen w-4/5 !max-w-7xl px-6 pt-16;
    }

    #view {
      @apply mb-8 w-full rounded-3xl border-2 p-8 shadow-2xl transition-all duration-300;
      @apply border-slate-400/20 bg-gradient-to-br from-white/95 via-white/90 to-white/85;
      @apply backdrop-blur-2xl backdrop-saturate-150;
      @apply dark:border-slate-600/25 dark:from-slate-800/95 dark:via-slate-800/90 dark:to-slate-800/85;
      @apply dark:shadow-black/40 dark:backdrop-blur-2xl dark:backdrop-saturate-150;
      @apply hover:shadow-2xl hover:shadow-slate-400/30 dark:hover:shadow-black/50;
      @apply hover:border-slate-400/30 dark:hover:border-slate-600/35;
      @apply empty:hidden;
    }

    /* Legacy System Log */
    #syslog {
      @apply w-full rounded-xl border p-6 font-sans text-xs leading-snug text-slate-200 transition-all duration-200;
      @apply bg-aurora-night-slate max-h-screen min-h-96 resize-y border-slate-400/25;
      @apply dark:border-slate-400/30 dark:shadow-black/40;
      @apply focus:border-aurora-teal focus:ring-aurora-teal/20 focus:shadow-lg focus:ring-2 focus:outline-none;
    }
  }

  /* Page-Specific Components */
  @layer page-specific {
    /* System Log Components */
    .syslog-container {
      @apply w-full rounded-xl border p-6 font-sans text-xs leading-snug text-slate-200 transition-all duration-200;
      @apply bg-aurora-night-slate max-h-screen min-h-96 resize-y border-slate-400/25;
      @apply dark:border-slate-400/30 dark:shadow-black/40;
      @apply focus:border-aurora-teal focus:ring-aurora-teal/20 focus:shadow-lg focus:ring-2 focus:outline-none;
    }
  }
}
