import{i as e}from"./chunks/utils-DKirHKlh.js";import{m as t}from"./chunks/menu-0JeSyt3b.js";import{a as n}from"./chunks/auth-DBMgu9VF.js";const i=document.createElement("style");i.textContent="\n  @keyframes ripple {\n    to {\n      transform: scale(2);\n      opacity: 0;\n    }\n  }\n  \n  .cbi-value.focused {\n    transform: translateY(-1px);\n    transition: transform 0.2s ease;\n  }\n",document.head.appendChild(i);const s=new class{constructor(){this.modules=new Map,this.init()}init(){e(),this.registerModule("menu",t),this.registerModule("auth",n),this.initInteractions(),this.initPageSpecific()}registerModule(e,t){this.modules.set(e,t)}getModule(e){return this.modules.get(e)}initInteractions(){this.enhanceButtons(),this.enhanceForms(),this.enhanceNavigation(),this.initResponsive()}enhanceButtons(){document.addEventListener("click",e=>{const t=e.target.closest(".btn, .cbi-button");t&&!t.disabled&&this.addRippleEffect(t,e)})}addRippleEffect(e,t){const n=document.createElement("span"),i=e.getBoundingClientRect(),s=Math.max(i.width,i.height),o=t.clientX-i.left-s/2,a=t.clientY-i.top-s/2;n.style.cssText=`\n      position: absolute;\n      width: ${s}px;\n      height: ${s}px;\n      left: ${o}px;\n      top: ${a}px;\n      background: rgba(255, 255, 255, 0.3);\n      border-radius: 50%;\n      transform: scale(0);\n      animation: ripple 0.6s ease-out;\n      pointer-events: none;\n    `,"static"===getComputedStyle(e).position&&(e.style.position="relative"),e.style.overflow="hidden",e.appendChild(n),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},600)}enhanceForms(){document.addEventListener("focusin",e=>{if(e.target.matches("input, select, textarea")){const t=e.target.closest(".cbi-value");t&&t.classList.add("focused")}}),document.addEventListener("focusout",e=>{if(e.target.matches("input, select, textarea")){const t=e.target.closest(".cbi-value");t&&t.classList.remove("focused")}}),document.addEventListener("submit",e=>{const t=e.target;"FORM"===t.tagName&&t.querySelectorAll(":invalid").forEach(e=>{e.classList.add("border-red-500","focus:ring-red-500"),setTimeout(()=>{e.classList.remove("border-red-500","focus:ring-red-500")},3e3)})})}enhanceNavigation(){const e=window.location.pathname;document.querySelectorAll(".nav a").forEach(t=>{t.getAttribute("href")===e&&t.classList.add("bg-blue-100","text-blue-700","dark:bg-blue-900","dark:text-blue-300")}),document.addEventListener("click",e=>{if(e.target.closest("[data-nav-toggle]")){const e=document.querySelector(".nav");e&&e.classList.toggle("hidden")}})}initResponsive(){let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{this.handleResize()},250)}),this.handleResize(),this.loadMobileStylesIfNeeded()}handleResize(){const e=window.innerWidth<=768;document.body.classList.toggle("mobile",e),this.loadMobileStylesIfNeeded(),window.dispatchEvent(new CustomEvent("themeResize",{detail:{isMobile:e,width:window.innerWidth}}))}initPageSpecific(){const e=document.body.getAttribute("data-page");e&&this.loadPageModule(e)}async loadPageModule(e){try{const t=`./pages/${e}.js`,n=await import(t);n.default&&"function"==typeof n.default.init&&n.default.init()}catch(e){}}async loadMobileStylesIfNeeded(){const e=window.innerWidth<=768;if(e&&!document.querySelector("#mobile-styles"))try{const e=document.createElement("link");e.id="mobile-styles",e.rel="stylesheet",e.href=`${this.getMediaPath()}/design/mobile.css`,e.media="screen and (max-width: 768px)",document.head.appendChild(e)}catch(e){}else if(!e){const e=document.querySelector("#mobile-styles");e&&e.remove()}}getMediaPath(){const e=document.querySelectorAll('link[rel="stylesheet"]');for(const t of e){const e=t.href;if(e.includes("/luci-static/design/"))return e.replace(/\/design\/.*$/,"")}return"/luci-static"}};window.ThemeManager=s,window.ThemeDesign={showNotification:window.ThemeUtils.showNotification,scrollToElement:window.ThemeUtils.scrollToElement,toggleTheme:()=>{const e="dark"===window.ThemeUtils.getThemePreference()?"light":"dark";window.ThemeUtils.setTheme(e)}};
